<!doctype html><html lang=en><head><title>using-chinese-in-emacs.org :: Vim Emacser Personal Blog</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Some Description"><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=/posts/emacs/using-chinese-in-emacs/><link rel=stylesheet href=/assets/style.css><link rel=stylesheet href=/assets/green.css><link rel=apple-touch-icon href=/img/apple-touch-icon-192x192.png><link rel="shortcut icon" href=/img/favicon/green.png><meta name=twitter:card content="summary"><meta name=twitter:site content="https://twitter.com/linuxing3"><meta name=twitter:creator content="Xing Wenju"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="og:title" content="using-chinese-in-emacs.org"><meta property="og:description" content="Some Description"><meta property="og:url" content="/posts/emacs/using-chinese-in-emacs/"><meta property="og:site_name" content="Vim Emacser Personal Blog"><meta property="og:image" content="/img/favicon/green.png"><meta property="og:image:width" content="2048"><meta property="og:image:height" content="1024"><meta property="article:published_time" content="2018-02-16 20:03:50 -0400 -0400"></head><body class=green><div class="container full"><header class=header><div class=header__inner><div class=header__logo><a href=/><div class=logo>Terminal</div></a></div><div class=menu-trigger>menu</div></div><nav class=menu><ul class="menu__inner menu__inner--desktop"><li><a href=/journal>Journal</a></li><li><a href=/showcase>Showcase</a></li><div class=spacer></div><ul class=language-selector><ul class=language-selector-current><li>English ▾</li></ul><ul class="language-selector__more hidden"><li><a href=/>English</a></li><li><a href=/zh/>中文</a></li></ul></ul></ul><ul class="menu__inner menu__inner--mobile"><li><a href=/journal>Journal</a></li><li><a href=/showcase>Showcase</a></li><hr><li><a href=/>English</a></li><li><a href=/zh/>中文</a></li></ul></nav></header><div class=content><div class=post><h1 class=post-title><a href=/posts/emacs/using-chinese-in-emacs/>using-chinese-in-emacs.org</a></h1><div class=post-meta><span class=post-date>2018-02-16</span>
<span class=post-author>:: Xing Wenju</span></div><span class=post-tags>#<a href=/tags/hugo-emacs/>hugo emacs</a>&nbsp;</span><div class=post-content><div><div id=outline-container-headline-2 class=outline-2><h2 id=headline-2>Description</h2><div id=outline-text-headline-2 class=outline-text-2><p>This layer adds support for traditional Chinese script to Spacemacs.</p><div id=outline-container-headline-3 class=outline-3><h3 id=headline-3>Features:</h3><div id=outline-text-headline-3 class=outline-text-3><ul><li>Support for the <a href=https://en.wikipedia.org/wiki/Pinyin>Pinyin(拼音)</a> input method via <a href=https://github.com/tumashu/chinese-pyim>chinese-pyim</a>.</li><li>Support for the <a href=https://en.wikipedia.org/wiki/Wubi_method>Wubi(五笔)</a> input method via <a href=https://github.com/andyque/chinese-wbim>chinese-wbim</a>.</li><li>Integration of the native input method framework <a href=https://en.wikipedia.org/wiki/Fcitx>fcitx</a> via <a href=https://github.com/cute-jumper/fcitx.el>cute-jumper/fcitx.el</a>.</li><li>Integration of the <a href=https://en.wikipedia.org/wiki/Youdao>Youdao(有道) Dictionary</a> via <a href=https://github.com/xuchunyang/youdao-dictionary.el>youdao-dictionary</a>.</li><li>Support for file searches in <code class=verbatim>dired</code> using Chinese Pinyin characters via <a href=https://github.com/redguardtoo/find-by-pinyin-dired>find-by-pinyin-dired</a>.</li><li>Support for jumping to Chinese Pinyin characters with <code class=verbatim>ace-jump-mode</code> via <a href=https://github.com/cute-jumper/ace-pinyin>ace-pinyin</a>.</li><li>Automatic visual separation of Chinese and Latin characters via <a href=https://github.com/coldnew/pangu-spacing>coldnew/pangu-spacing</a>.</li><li>Automatic joining of consecutive Chinese lines into a single long line without unwanted space when exporting org-mode to html.</li></ul></div></div></div></div><div id=outline-container-headline-4 class=outline-2><h2 id=headline-4>Install</h2><div id=outline-text-headline-4 class=outline-text-2><div id=outline-container-headline-5 class=outline-3><h3 id=headline-5>Layer</h3><div id=outline-text-headline-5 class=outline-text-3><p>To use this configuration layer, add it to your <code class=verbatim>~/.spacemacs</code>. You will need to
add <code class=verbatim>chinese</code> to the existing <code class=verbatim>dotspacemacs-configuration-layers</code> list in this
file.</p></div></div><div id=outline-container-headline-6 class=outline-3><h3 id=headline-6>Configuration</h3><div id=outline-text-headline-6 class=outline-text-3><div id=outline-container-headline-7 class=outline-4><h4 id=headline-7>Configure the Default Input Method(配置默认中文输入法)</h4><div id=outline-text-headline-7 class=outline-text-4><p>The default Chinese input method is <code class=verbatim>Chinese-pyim</code>, if you are a Wubi(五笔) user,
you could set the variable <code class=verbatim>chinese-default-input-method</code> to <code class=verbatim>wubi</code>:</p><div class="src src-emacs-lisp"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-emacs-lisp data-lang=emacs-lisp><span style=display:flex><span>  (setq-default dotspacemacs-configuration-layers <span style=color:#f92672>&#39;</span>(
</span></span><span style=display:flex><span>    (chinese :variables chinese-default-input-method <span style=color:#e6db74>&#39;wubi</span>)))</span></span></code></pre></div></div></div></div><div id=outline-container-headline-8 class=outline-4><h4 id=headline-8>Configure the <code class=verbatim>Chinese-pyim</code> Input Method(配置中文拼音输入法)</h4><div id=outline-text-headline-8 class=outline-text-4><p>The first time you use <code class=verbatim>Chinese-pyim</code>, you need to install the lexicon(词库)
file. Call <code class=verbatim>pyim-dicts-manager</code> to open up the settings buffer and
press <code class=verbatim>i e</code> to install the default lexicon. The lexicon is about 20MB, so you
should be patient when downloading starts. After the lexicon file is downloaded,
just press <code class=verbatim>s</code> to save and <code class=verbatim>R</code> to restart configuration.</p></div></div><div id=outline-container-headline-9 class=outline-4><h4 id=headline-9>Enable fcitx</h4><div id=outline-text-headline-9 class=outline-text-4><div class="src src-emacs-lisp"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-emacs-lisp data-lang=emacs-lisp><span style=display:flex><span>  (setq-default dotspacemacs-configuration-layers <span style=color:#f92672>&#39;</span>((chinese :variables
</span></span><span style=display:flex><span>                                                             chinese-enable-fcitx <span style=color:#66d9ef>t</span>)))</span></span></code></pre></div></div><p>If you don’t need to type Chinese in minibuffer, you can temporarily disable fcitx in the minibuffer
with the following configuration.</p><div class="src src-emacs-lisp"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-emacs-lisp data-lang=emacs-lisp><span style=display:flex><span>  (fcitx-aggressive-setup)</span></span></code></pre></div></div><div id=outline-container-headline-10 class=outline-5><h5 id=headline-10>Requirement</h5><div id=outline-text-headline-10 class=outline-text-5><div id=outline-container-headline-11 class=outline-6><h6 id=headline-11>Linux</h6><div id=outline-text-headline-11 class=outline-text-6><p>You need to install <code class=verbatim>fcitx</code> and <code class=verbatim>fcitx-remote</code> on your machine.</p></div></div><div id=outline-container-headline-12 class=outline-6><h6 id=headline-12>Mac OS X</h6><div id=outline-text-headline-12 class=outline-text-6><p>We don't have a <code class=verbatim>fcitx</code> in OS X yet but we already added an emulation called
<code class=verbatim>fcitx-remote</code> to make you happy with other Chinese input-methods.</p><p>You can install <a href=https://github.com/CodeFalling/fcitx-remote-for-osx>fcitx-remote-for-osx</a> from homebrew.</p><div class="src src-shell"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>  brew install fcitx-remote-for-osx --with-input-method<span style=color:#f92672>=</span>baidu-pinyin</span></span></code></pre></div></div><p><code class=verbatim>--with-input-method=baidu-pinyin</code> means install for Baidu-pinyin Input Method.</p><p>You can use <code class=verbatim>brew info fcitx-remote-for-osx</code> to get more options info for input
method support.</p><pre class=example>
--with-input-method=
  Select input method: baidu-pinyin(default), baidu-wubi, sogou-pinyin, qq-wubi, squirrel-rime, osx-pinyin
</pre></div></div><div id=outline-container-headline-13 class=outline-6><h6 id=headline-13>Windows</h6><div id=outline-text-headline-13 class=outline-text-6><p>In order to use <code class=verbatim>fcitx.el</code> in Windows, you should install <a href=https://github.com/cute-jumper/fcitx-remote-for-windows>fcitx-remote-for-windows</a>.</p></div></div></div></div></div></div><div id=outline-container-headline-14 class=outline-4><h4 id=headline-14>Enable YouDao(有道) Dictionary(激活有道字典)</h4><div id=outline-text-headline-14 class=outline-text-4><p>The YouDao Dictionary is disabled by default, if you want enable it.
You should set <code class=verbatim>chinese-enable-youdao-dict</code> to <code class=verbatim>t</code>.</p><div class="src src-emacs-lisp"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-emacs-lisp data-lang=emacs-lisp><span style=display:flex><span>  (setq-default dotspacemacs-configuration-layers <span style=color:#f92672>&#39;</span>((chinese :variables
</span></span><span style=display:flex><span>                                                             chinese-enable-youdao-dict <span style=color:#66d9ef>t</span>)))</span></span></code></pre></div></div></div></div><div id=outline-container-headline-15 class=outline-4><h4 id=headline-15>Set monospaced font size(设置等宽字体）</h4><div id=outline-text-headline-15 class=outline-text-4><p>If you are mixing Chinese script with Latin script, the text is not perfectly
aligned in org table. That's because normally the Chinese font size is not equal
to the Latin font size. You could call <code class=verbatim>spacemacs//set-monospaced-font</code> with
your own Chinese font name in <code class=verbatim>dotspacemacs/user-config</code> function.</p><p>Example configuration:</p><div class="src src-emacs-lisp"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-emacs-lisp data-lang=emacs-lisp><span style=display:flex><span><span style=color:#75715e>;; Note: The Hiragino Sans GB is bundled with MacOS X.</span>
</span></span><span style=display:flex><span><span style=color:#75715e>;; If you are not using MacOS X, you should change it to another Chinese font name.</span>
</span></span><span style=display:flex><span>(spacemacs//set-monospaced-font   <span style=color:#e6db74>&#34;Source Code Pro&#34;</span> <span style=color:#e6db74>&#34;Hiragino Sans GB&#34;</span> <span style=color:#ae81ff>14</span> <span style=color:#ae81ff>16</span>)</span></span></code></pre></div></div></div></div><div id=outline-container-headline-16 class=outline-4><h4 id=headline-16>Enable/Disable ace-pinyin in <code class=verbatim>avy-goto-char</code></h4><div id=outline-text-headline-16 class=outline-text-4><p>You can use <code class=verbatim>avy-goto-char</code> with pinyin supported by default, if you want to
disable it. You can set <code class=verbatim>chinese-enable-avy-pinyin</code> to <code class=verbatim>nil</code>.</p><div class="src src-emacs-lisp"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-emacs-lisp data-lang=emacs-lisp><span style=display:flex><span>  (setq-default dotspacemacs-configuration-layers <span style=color:#f92672>&#39;</span>((chinese :variables
</span></span><span style=display:flex><span>                                                             chinese-enable-avy-pinyin <span style=color:#66d9ef>nil</span>)))</span></span></code></pre></div></div></div></div></div></div></div></div><div id=outline-container-headline-17 class=outline-2><h2 id=headline-17>Key Bindings</h2><div id=outline-text-headline-17 class=outline-text-2><p>Currently, there are no built-in key bindings for this layer. You could define
your own preference.</p><p>Here are a few suggested key bindings (remember that <code>SPC o</code> is reserved for
personal usage, spacemacs won´t put any binding under this prefix):</p><div id=outline-container-headline-18 class=outline-3><h3 id=headline-18>Youdao Dictionary</h3><div id=outline-text-headline-18 class=outline-text-3><p>Bind <code>SPC o y</code> to <code class=verbatim>youdao-dictionary-search-at-point+</code>.</p></div></div><div id=outline-container-headline-19 class=outline-3><h3 id=headline-19>Find-by-pinyin-dired</h3><div id=outline-text-headline-19 class=outline-text-3><p>Bind <code>SPC o d</code> to <code class=verbatim>find-by-pinyin-dired</code></p></div></div></div></div></div></div><div class=pagination><div class=pagination__title><span class=pagination__title-h>Read other posts</span><hr></div><div class=pagination__buttons><span class="button previous"><a href=/posts/emacs/using-auto-completion-in-emacs/><span class=button__icon>←</span>
<span class=button__text>using-auto-completion-in-emacs.org</span></a></span>
<span class="button next"><a href=/posts/emacs/using-chrome-in-emacs/><span class=button__text>using-chrome-in-emacs.org</span>
<span class=button__icon>→</span></a></span></div></div></div></div><footer class=footer><div class=footer__inner><div class="copyright copyright--user"><span>@linuxing3</span>
<span>:: Theme made by <a href=https://twitter.com/panr>panr</a></span></div></div></footer><script src=/assets/main.js></script>
<script src=/assets/prism.js></script>
<script src=/assets/languageSelector.js></script></div></body></html>