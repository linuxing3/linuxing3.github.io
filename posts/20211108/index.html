<!doctype html><html lang=en><head><title>Make better emacs workflow :: Vim Emacser Personal Blog</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="1 [修改中] 更好地发布博客日志 1.1 [学习] 使用 org-capture 自动生成 org (或 md ) 文件在 OneDrive/org/journal 目录下 1.2 [学习] 书写博客的内容 1.3 [学习] 1. 使用 org-publish 发布 html 1.3.1 [学习] 使用 org-publish-project 进行发布，直接导出为 workspace/github.io/blog 目录下，生成 html 文件 1.4 [学习] 2. 使用 ox-hugo 发布 md 1.4.1 [学习] 使用 org-hugo-export-to-md 直接导出为 workspace/awesome-hugo-blog/post 目录下, 生成 md 文件 1.5 生成其他的物料 1.5.1 [学习] 插入 plantuml 图片 1.5.2 [学习] 发布 images 项目到 workspace/github.io/assets/images 目录下 1.5.3 [BUG] 发布 css 项目到 workspace/github."><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=/posts/20211108/><link rel=stylesheet href=/assets/style.css><link rel=stylesheet href=/assets/green.css><link rel=apple-touch-icon href=/img/apple-touch-icon-192x192.png><link rel="shortcut icon" href=/img/favicon/green.png><meta name=twitter:card content="summary"><meta name=twitter:site content="https://twitter.com/linuxing3"><meta name=twitter:creator content="[linuxing3]"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="og:title" content="Make better emacs workflow"><meta property="og:description" content="1 [修改中] 更好地发布博客日志 1.1 [学习] 使用 org-capture 自动生成 org (或 md ) 文件在 OneDrive/org/journal 目录下 1.2 [学习] 书写博客的内容 1.3 [学习] 1. 使用 org-publish 发布 html 1.3.1 [学习] 使用 org-publish-project 进行发布，直接导出为 workspace/github.io/blog 目录下，生成 html 文件 1.4 [学习] 2. 使用 ox-hugo 发布 md 1.4.1 [学习] 使用 org-hugo-export-to-md 直接导出为 workspace/awesome-hugo-blog/post 目录下, 生成 md 文件 1.5 生成其他的物料 1.5.1 [学习] 插入 plantuml 图片 1.5.2 [学习] 发布 images 项目到 workspace/github.io/assets/images 目录下 1.5.3 [BUG] 发布 css 项目到 workspace/github."><meta property="og:url" content="/posts/20211108/"><meta property="og:site_name" content="Vim Emacser Personal Blog"><meta property="og:image" content="/img/favicon/green.png"><meta property="og:image:width" content="2048"><meta property="og:image:height" content="1024"><meta property="article:published_time" content="2021-02-16 14:06:05 -0400 -0400"></head><body class=green><div class="container full"><header class=header><div class=header__inner><div class=header__logo><a href=/><div class=logo>Terminal</div></a></div><div class=menu-trigger>menu</div></div><nav class=menu><ul class="menu__inner menu__inner--desktop"><li><a href=/journal>Journal</a></li><li><a href=/showcase>Showcase</a></li><div class=spacer></div><ul class=language-selector><ul class=language-selector-current><li>English ▾</li></ul><ul class="language-selector__more hidden"><li><a href=/>English</a></li><li><a href=/zh/>中文</a></li></ul></ul></ul><ul class="menu__inner menu__inner--mobile"><li><a href=/journal>Journal</a></li><li><a href=/showcase>Showcase</a></li><hr><li><a href=/>English</a></li><li><a href=/zh/>中文</a></li></ul></nav></header><div class=content><div class=post><h1 class=post-title><a href=/posts/20211108/>Make better emacs workflow</a></h1><div class=post-meta><span class=post-date>2021-02-16</span>
<span class=post-author>:: [linuxing3]</span></div><div class=post-content><div><ul><li>1 <a href=#%E6%9B%B4%E5%A5%BD%E5%9C%B0%E5%8F%91%E5%B8%83%E5%8D%9A%E5%AE%A2%E6%97%A5%E5%BF%97>[修改中] 更好地发布博客日志</a><ul><li>1.1 <a href=#%E4%BD%BF%E7%94%A8-org-capture-%E8%87%AA%E5%8A%A8%E7%94%9F%E6%88%90-org--%E6%88%96-md--%E6%96%87%E4%BB%B6%E5%9C%A8-onedrive-org-journal-%E7%9B%AE%E5%BD%95%E4%B8%8B>[学习] 使用 <code>org-capture</code> 自动生成 <code>org</code> (或 <code>md</code> ) 文件在 <code>OneDrive/org/journal</code> 目录下</a></li><li>1.2 <a href=#%E4%B9%A6%E5%86%99%E5%8D%9A%E5%AE%A2%E7%9A%84%E5%86%85%E5%AE%B9>[学习] 书写博客的内容</a></li><li>1.3 <a href=#1-dot-%E4%BD%BF%E7%94%A8-org-publish-%E5%8F%91%E5%B8%83-html>[学习] 1. 使用 <code>org-publish</code> 发布 <strong>html</strong></a><ul><li>1.3.1 <a href=#%E4%BD%BF%E7%94%A8-org-publish-project-%E8%BF%9B%E8%A1%8C%E5%8F%91%E5%B8%83-%E7%9B%B4%E6%8E%A5%E5%AF%BC%E5%87%BA%E4%B8%BA-workspace-github-dot-io-blog-%E7%9B%AE%E5%BD%95%E4%B8%8B-%E7%94%9F%E6%88%90-html-%E6%96%87%E4%BB%B6>[学习] 使用 <code>org-publish-project</code> 进行发布，直接导出为 <code>workspace/github.io/blog</code> 目录下，生成 <code>html</code> 文件</a></li></ul></li><li>1.4 <a href=#2-dot-%E4%BD%BF%E7%94%A8-ox-hugo-%E5%8F%91%E5%B8%83-md>[学习] 2. 使用 <code>ox-hugo</code> 发布 <strong>md</strong></a><ul><li>1.4.1 <a href=#%E4%BD%BF%E7%94%A8-org-hugo-export-to-md-%E7%9B%B4%E6%8E%A5%E5%AF%BC%E5%87%BA%E4%B8%BA-workspace-awesome-hugo-blog-post-%E7%9B%AE%E5%BD%95%E4%B8%8B-%E7%94%9F%E6%88%90-md-%E6%96%87%E4%BB%B6>[学习] 使用 <code>org-hugo-export-to-md</code> 直接导出为 <code>workspace/awesome-hugo-blog/post</code> 目录下, 生成 <code>md</code> 文件</a></li></ul></li><li>1.5 <a href=#%E7%94%9F%E6%88%90%E5%85%B6%E4%BB%96%E7%9A%84%E7%89%A9%E6%96%99>生成其他的物料</a><ul><li>1.5.1 <a href=#%E6%8F%92%E5%85%A5-plantuml-%E5%9B%BE%E7%89%87>[学习] 插入 <code>plantuml</code> 图片</a></li><li>1.5.2 <a href=#%E5%8F%91%E5%B8%83-images-%E9%A1%B9%E7%9B%AE%E5%88%B0-workspace-github-dot-io-assets-images-%E7%9B%AE%E5%BD%95%E4%B8%8B>[学习] 发布 <code>images</code> 项目到 <code>workspace/github.io/assets/images</code> 目录下</a></li><li>1.5.3 <a href=#%E5%8F%91%E5%B8%83-css-%E9%A1%B9%E7%9B%AE%E5%88%B0-workspace-github-dot-io-assets-css-%E7%9B%AE%E5%BD%95%E4%B8%8B>[BUG] 发布 <code>css</code> 项目到 <code>workspace/github.io/assets/css</code> 目录下</a></li></ul></li><li>1.6 <a href=#%E6%B5%8F%E8%A7%88%E4%BD%A0%E7%9A%84%E5%8D%9A%E5%AE%A2>[学习] 浏览你的博客!!!</a><ul><li>1.6.1 <a href=#%E5%90%AF%E5%8A%A8-hugo-%E8%AE%BF%E9%97%AE-http-localhost-1313>[学习] 启动 <code>hugo</code> , 访问 <strong>http://localhost:1313</strong></a></li><li>1.6.2 <a href=#%E5%90%AF%E5%8A%A8-simple-httpd-%E8%AE%BF%E9%97%AE-http-localhost-8080>[学习] 启动 <code>simple-httpd</code> , 访问 <strong>http://localhost:8080</strong></a></li></ul></li></ul></li><li>2 <a href=#%E5%85%B6%E4%BB%96%E5%B7%A5%E4%BD%9C>[学习] 其他工作</a><ul><li>2.1 <a href=#%E6%B7%B1%E5%85%A5%E6%89%93%E5%A5%BD%E6%B1%A1%E6%9F%93%E9%98%B2%E6%B2%BB%E6%94%BB%E5%9D%9A%E6%88%98>深入打好污染防治攻坚战</a></li><li>2.2 <a href=#%E8%A7%82%E7%9C%8B%E6%96%B0%E9%97%BB%E8%81%94%E6%92%AD>观看新闻联播</a></li><li>2.3 <a href=#%E7%A5%9D%E8%B4%BA%E6%96%B0%E5%8D%8E%E7%A4%BE%E6%88%90%E7%AB%8B90%E5%91%A8%E5%B9%B4>祝贺新华社成立90周年</a></li><li>2.4 <a href=#%E9%A6%96%E6%AC%A1%E9%99%8D%E9%9B%AA>❄ 首次降雪</a></li><li>2.5 <a href=#%E5%88%B6%E4%BD%9C%E5%BE%AE%E4%BF%A1%E7%94%B5%E5%AD%90%E7%9B%B8%E5%86%8C>制作微信电子相册</a></li></ul></li></ul><h2 id=更好地发布博客日志>[修改中] 1 更好地发布博客日志<a href=#更好地发布博客日志 class=hanchor arialabel=Anchor>&#8983;</a></h2><h3 id=使用-org-capture-自动生成-org--或-md--文件在-onedrive-org-journal-目录下>[学习] 1.1 使用 <code>org-capture</code> 自动生成 <code>org</code> (或 <code>md</code> ) 文件在 <code>OneDrive/org/journal</code> 目录下<a href=#使用-org-capture-自动生成-org--或-md--文件在-onedrive-org-journal-目录下 class=hanchor arialabel=Anchor>&#8983;</a></h3><h3 id=书写博客的内容>[学习] 1.2 书写博客的内容<a href=#书写博客的内容 class=hanchor arialabel=Anchor>&#8983;</a></h3><h3 id=1-dot-使用-org-publish-发布-html>[学习] 1.3 1. 使用 <code>org-publish</code> 发布 <strong>html</strong><a href=#1-dot-使用-org-publish-发布-html class=hanchor arialabel=Anchor>&#8983;</a></h3><h4 id=使用-org-publish-project-进行发布-直接导出为-workspace-github-dot-io-blog-目录下-生成-html-文件>[学习] 1.3.1 使用 <code>org-publish-project</code> 进行发布，直接导出为 <code>workspace/github.io/blog</code> 目录下，生成 <code>html</code> 文件<a href=#使用-org-publish-project-进行发布-直接导出为-workspace-github-dot-io-blog-目录下-生成-html-文件 class=hanchor arialabel=Anchor>&#8983;</a></h4><h3 id=2-dot-使用-ox-hugo-发布-md>[学习] 1.4 2. 使用 <code>ox-hugo</code> 发布 <strong>md</strong><a href=#2-dot-使用-ox-hugo-发布-md class=hanchor arialabel=Anchor>&#8983;</a></h3><h4 id=使用-org-hugo-export-to-md-直接导出为-workspace-awesome-hugo-blog-post-目录下-生成-md-文件>[学习] 1.4.1 使用 <code>org-hugo-export-to-md</code> 直接导出为 <code>workspace/awesome-hugo-blog/post</code> 目录下, 生成 <code>md</code> 文件<a href=#使用-org-hugo-export-to-md-直接导出为-workspace-awesome-hugo-blog-post-目录下-生成-md-文件 class=hanchor arialabel=Anchor>&#8983;</a></h4><ol><li><p>设置</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-elisp data-lang=elisp><span style=display:flex><span><span style=color:#75715e>;; 设定`hugo的目录&#39;</span>
</span></span><span style=display:flex><span>(setq org-hugo-base-dir (<span style=color:#a6e22e>expand-file-name</span> <span style=color:#e6db74>&#34;workspace/awesome-hugo-blog&#34;</span> home-directory))
</span></span><span style=display:flex><span><span style=color:#75715e>;; ✂ ✂ ✂ ✂ ✂ ✂ ✂ ✂ ✂ ✂ ✂ ✂ ✂ ✂ ✂ ✂ ✂ ✂ ✂ ✂ ✂ ✂ ✂ ✂ ✂ ✂ ✂ ✂ ✂ ✂</span>
</span></span><span style=display:flex><span><span style=color:#75715e>;; 博客 blog</span>
</span></span><span style=display:flex><span><span style=color:#75715e>;; ✂ ✂ ✂ ✂ ✂ ✂ ✂ ✂ ✂ ✂ ✂ ✂ ✂ ✂ ✂ ✂ ✂ ✂ ✂ ✂ ✂ ✂ ✂ ✂ ✂ ✂ ✂ ✂ ✂ ✂</span>
</span></span><span style=display:flex><span><span style=color:#75715e>;; for Hugo</span>
</span></span><span style=display:flex><span>(defvar blog-hugo-process <span style=color:#e6db74>&#34;Hugo Server&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;Name of &#39;gridsome develop&#39; process process&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>(defun +modern-blog-hugo-find-dir ()
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;Open hugo blog files&#34;</span>
</span></span><span style=display:flex><span>  (interactive)
</span></span><span style=display:flex><span>  (find-file (workspace-path <span style=color:#e6db74>&#34;awesome-hugo-blog/content/posts&#34;</span>)))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>(defun +modern-blog-hugo-deploy ()
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;Run gridsome cli and push changes upstream.&#34;</span>
</span></span><span style=display:flex><span>  (interactive)
</span></span><span style=display:flex><span>  (with-dir org-hugo-base-dir
</span></span><span style=display:flex><span>            <span style=color:#75715e>;; deploy to github for ci</span>
</span></span><span style=display:flex><span>            (shell-command <span style=color:#e6db74>&#34;cd &#34;</span> org-hugo-base-dir)
</span></span><span style=display:flex><span>            (shell-command <span style=color:#e6db74>&#34;git add .&#34;</span>)
</span></span><span style=display:flex><span>            (--&gt; (<span style=color:#a6e22e>current-time-string</span>)
</span></span><span style=display:flex><span>                 (<span style=color:#a6e22e>concat</span> <span style=color:#e6db74>&#34;git commit -m \&#34;&#34;</span> it <span style=color:#e6db74>&#34;\&#34;&#34;</span>)
</span></span><span style=display:flex><span>                 (shell-command it))
</span></span><span style=display:flex><span>            (shell-command <span style=color:#e6db74>&#34;git push&#34;</span>)))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>(defun +modern-blog-hugo-start-server ()
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;Run gridsome server if not already running and open its webpage.&#34;</span>
</span></span><span style=display:flex><span>  (interactive)
</span></span><span style=display:flex><span>  (with-dir org-hugo-base-dir
</span></span><span style=display:flex><span>            (shell-command <span style=color:#e6db74>&#34;cd &#34;</span> org-hugo-base-dir)
</span></span><span style=display:flex><span>            (unless (<span style=color:#a6e22e>get-process</span> blog-hugo-process)
</span></span><span style=display:flex><span>              (<span style=color:#a6e22e>start-process</span> blog-hugo-process <span style=color:#66d9ef>nil</span> <span style=color:#e6db74>&#34;hugo&#34;</span> <span style=color:#e6db74>&#34;server&#34;</span>))))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>(defun +modern-blog-hugo-end-server ()
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;End gridsome server process if running.&#34;</span>
</span></span><span style=display:flex><span>  (interactive)
</span></span><span style=display:flex><span>  (--when-let (<span style=color:#a6e22e>get-process</span> blog-hugo-process)
</span></span><span style=display:flex><span>    (<span style=color:#a6e22e>delete-process</span> it)))
</span></span></code></pre></div></li></ol><h3 id=生成其他的物料>1.5 生成其他的物料<a href=#生成其他的物料 class=hanchor arialabel=Anchor>&#8983;</a></h3><h4 id=插入-plantuml-图片>[学习] 1.5.1 插入 <code>plantuml</code> 图片<a href=#插入-plantuml-图片 class=hanchor arialabel=Anchor>&#8983;</a></h4><h4 id=发布-images-项目到-workspace-github-dot-io-assets-images-目录下>[学习] 1.5.2 发布 <code>images</code> 项目到 <code>workspace/github.io/assets/images</code> 目录下<a href=#发布-images-项目到-workspace-github-dot-io-assets-images-目录下 class=hanchor arialabel=Anchor>&#8983;</a></h4><h4 id=发布-css-项目到-workspace-github-dot-io-assets-css-目录下>[BUG] 1.5.3 发布 <code>css</code> 项目到 <code>workspace/github.io/assets/css</code> 目录下<a href=#发布-css-项目到-workspace-github-dot-io-assets-css-目录下 class=hanchor arialabel=Anchor>&#8983;</a></h4><h3 id=浏览你的博客>[学习] 1.6 浏览你的博客!!!<a href=#浏览你的博客 class=hanchor arialabel=Anchor>&#8983;</a></h3><h4 id=启动-hugo-访问-http-localhost-1313>[学习] 1.6.1 启动 <code>hugo</code> , 访问 <strong><a href=http://localhost:1313>http://localhost:1313</a></strong><a href=#启动-hugo-访问-http-localhost-1313 class=hanchor arialabel=Anchor>&#8983;</a></h4><h4 id=启动-simple-httpd-访问-http-localhost-8080>[学习] 1.6.2 启动 <code>simple-httpd</code> , 访问 <strong><a href=http://localhost:8080>http://localhost:8080</a></strong><a href=#启动-simple-httpd-访问-http-localhost-8080 class=hanchor arialabel=Anchor>&#8983;</a></h4><h2 id=其他工作>[学习] 2 其他工作<a href=#其他工作 class=hanchor arialabel=Anchor>&#8983;</a></h2><h3 id=深入打好污染防治攻坚战>2.1 深入打好污染防治攻坚战<a href=#深入打好污染防治攻坚战 class=hanchor arialabel=Anchor>&#8983;</a></h3><h3 id=观看新闻联播>2.2 观看新闻联播<a href=#观看新闻联播 class=hanchor arialabel=Anchor>&#8983;</a></h3><h3 id=祝贺新华社成立90周年>2.3 祝贺新华社成立90周年<a href=#祝贺新华社成立90周年 class=hanchor arialabel=Anchor>&#8983;</a></h3><h3 id=首次降雪>2.4 ❄ 首次降雪<a href=#首次降雪 class=hanchor arialabel=Anchor>&#8983;</a></h3><h3 id=制作微信电子相册>2.5 制作微信电子相册<a href=#制作微信电子相册 class=hanchor arialabel=Anchor>&#8983;</a></h3><figure class=left><img src=/ox-hugo/weichat_digital_album.png></figure></div></div><div class=pagination><div class=pagination__title><span class=pagination__title-h>Read other posts</span><hr></div><div class=pagination__buttons><span class="button previous"><a href=/posts/go/go-spider-framework/><span class=button__icon>←</span>
<span class=button__text>Go spider framework</span></a></span>
<span class="button next"><a href=/posts/vim/micro/><span class=button__text>Micro but awesome editor</span>
<span class=button__icon>→</span></a></span></div></div></div></div><footer class=footer><div class=footer__inner><div class="copyright copyright--user"><span>@linuxing3</span>
<span>:: Theme made by <a href=https://twitter.com/panr>panr</a></span></div></div></footer><script src=/assets/main.js></script>
<script src=/assets/prism.js></script>
<script src=/assets/languageSelector.js></script></div></body></html>