<!doctype html><html lang=en><head><title>rlang.md :: Vim Emacser Personal Blog</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="R常用命令（Medcl专用精简版） 1.查看base包命令
library(help=&amp;#34;base&amp;#34;) 2.查看帮助
?lm help(&amp;#34;*&amp;#34;) help(&amp;#34;mean&amp;#34;) help(&amp;#34;bs&amp;#34;, package = &amp;#34;splines&amp;#34;) #在特定包里搜索 help(&amp;#34;bs&amp;#34;,try.all.packages=TRUE) #在所有包中搜索，默认只在内存加载的包中搜索 help.start() help.search(&amp;#34;tree&amp;#34;) help.search(&amp;#34;tree&amp;#34;, rebuild = TRUE)) #新安装包之后，需要rebuild apropos(&amp;#34;length&amp;#34;) #查找函数 3.赋值
a&amp;lt;-5 a=5 5-&amp;gt;a 4.查看对象
ls(pattern=&amp;#34;a&amp;#34;) ls(pat=&amp;#34;^a&amp;#34;) 5.删除对象"><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=/posts/academy/rlang/><link rel=stylesheet href=/assets/style.css><link rel=stylesheet href=/assets/green.css><link rel=apple-touch-icon href=/img/apple-touch-icon-192x192.png><link rel="shortcut icon" href=/img/favicon/green.png><meta name=twitter:card content="summary"><meta name=twitter:site content="https://twitter.com/linuxing3"><meta name=twitter:creator content><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="og:title" content="rlang.md"><meta property="og:description" content="R常用命令（Medcl专用精简版） 1.查看base包命令
library(help=&amp;#34;base&amp;#34;) 2.查看帮助
?lm help(&amp;#34;*&amp;#34;) help(&amp;#34;mean&amp;#34;) help(&amp;#34;bs&amp;#34;, package = &amp;#34;splines&amp;#34;) #在特定包里搜索 help(&amp;#34;bs&amp;#34;,try.all.packages=TRUE) #在所有包中搜索，默认只在内存加载的包中搜索 help.start() help.search(&amp;#34;tree&amp;#34;) help.search(&amp;#34;tree&amp;#34;, rebuild = TRUE)) #新安装包之后，需要rebuild apropos(&amp;#34;length&amp;#34;) #查找函数 3.赋值
a&amp;lt;-5 a=5 5-&amp;gt;a 4.查看对象
ls(pattern=&amp;#34;a&amp;#34;) ls(pat=&amp;#34;^a&amp;#34;) 5.删除对象"><meta property="og:url" content="/posts/academy/rlang/"><meta property="og:site_name" content="Vim Emacser Personal Blog"><meta property="og:image" content="/img/favicon/green.png"><meta property="og:image:width" content="2048"><meta property="og:image:height" content="1024"><meta property="article:published_time" content="2018-02-16 14:05:34 -0400 -0400"></head><body class=green><div class="container full"><header class=header><div class=header__inner><div class=header__logo><a href=/><div class=logo>Terminal</div></a></div><div class=menu-trigger>menu</div></div><nav class=menu><ul class="menu__inner menu__inner--desktop"><li><a href=/journal>Journal</a></li><li><a href=/showcase>Showcase</a></li><div class=spacer></div><ul class=language-selector><ul class=language-selector-current><li>English ▾</li></ul><ul class="language-selector__more hidden"><li><a href=/>English</a></li><li><a href=/zh/>中文</a></li></ul></ul></ul><ul class="menu__inner menu__inner--mobile"><li><a href=/journal>Journal</a></li><li><a href=/showcase>Showcase</a></li><hr><li><a href=/>English</a></li><li><a href=/zh/>中文</a></li></ul></nav></header><div class=content><div class=post><h1 class=post-title><a href=/posts/academy/rlang/>rlang.md</a></h1><div class=post-meta><span class=post-date>2018-02-16</span></div><div class=post-content><div><h1 id=r常用命令medcl专用精简版>R常用命令（Medcl专用精简版）<a href=#r常用命令medcl专用精简版 class=hanchor arialabel=Anchor>&#8983;</a></h1><p>1.查看base包命令</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>library<span style=color:#f92672>(</span>help<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;base&#34;</span><span style=color:#f92672>)</span>
</span></span></code></pre></div><p>2.查看帮助</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>?lm
</span></span><span style=display:flex><span>help<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;*&#34;</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>help<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;mean&#34;</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>help<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;bs&#34;</span>, package <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;splines&#34;</span><span style=color:#f92672>)</span> <span style=color:#75715e>#在特定包里搜索</span>
</span></span><span style=display:flex><span>help<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;bs&#34;</span>,try.all.packages<span style=color:#f92672>=</span>TRUE<span style=color:#f92672>)</span> <span style=color:#75715e>#在所有包中搜索，默认只在内存加载的包中搜索</span>
</span></span><span style=display:flex><span>help.start<span style=color:#f92672>()</span>
</span></span><span style=display:flex><span>help.search<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;tree&#34;</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>help.search<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;tree&#34;</span>, rebuild <span style=color:#f92672>=</span> TRUE<span style=color:#f92672>))</span> <span style=color:#75715e>#新安装包之后，需要rebuild</span>
</span></span><span style=display:flex><span>apropos<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;length&#34;</span><span style=color:#f92672>)</span>  <span style=color:#75715e>#查找函数</span>
</span></span></code></pre></div><p>3.赋值</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>a&lt;-5
</span></span><span style=display:flex><span>a<span style=color:#f92672>=</span><span style=color:#ae81ff>5</span>
</span></span><span style=display:flex><span>5-&gt;a
</span></span></code></pre></div><p>4.查看对象</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>ls<span style=color:#f92672>(</span>pattern<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;a&#34;</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>ls<span style=color:#f92672>(</span>pat<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;^a&#34;</span><span style=color:#f92672>)</span>
</span></span></code></pre></div><p>5.删除对象</p><pre tabindex=0><code class="language-rm(pat=" a")" data-lang="rm(pat=" a")">rm(list=ls(pat=&#34;a&#34;))
</code></pre><p>6.构建一个dataframe数据框</p><p>M &lt;- data.frame(n1, n2, n3)</p><p>7.查看数据类型（共有四种：数值型，字符型，复数型7和逻辑型(FALSE或TRUE)）</p><p>x &lt;- 1
mode(x)
用Inf和-Inf表示正负无穷，NaN（not a number），NA（not available）</p><p>8.工作目录</p><p>getwd()
setwd("/home/paradis/R") #如果一个文件不在工作目录里则必须给出它的路径</p><p>9.读取文件</p><p>read.table(file=&ldquo;Q:/data_24.csv&rdquo;,header=T,sep = &ldquo;\t&rdquo;,dec=".",quote=""&rsquo;") #创建一个数据框
还有scan（前者可以指定变量的类型）
和read.fwf（以用来读取文件中一些固定宽度格式的数据）</p><p><strong>mydata$V1和mydata[, 1]是向量，而mydata[&ldquo;V1&rdquo;]是数据框</strong></p><p>10.存数据</p><p>write.table
write(x,file =&ldquo;data.txt&rdquo;),</p><p>工作空间保存加载:</p><p>用load(&ldquo;xyz.RData&rdquo;)
save.image()是save(list =ls(all=TRUE),
file=".RData")</p><p>11.生成数据</p><p>x &lt;- 1:30 #1到30个整数序列</p><blockquote><p>1:5
[1] 1 2 3 4 5
3;1
[1] 3
[1] 1
3:1
[1] 3 2 1
1:(10-1)
[1] 1 2 3 4 5 6 7 8 9</p></blockquote><blockquote><p>seq(1, 5, 0.5) #生成实数序列
[1] 1.0 1.5 2.0 2.5 3.0 3.5 4.0 4.5 5.0
seq(length=9, from=1, to=5)
[1] 1.0 1.5 2.0 2.5 3.0 3.5 4.0 4.5 5.0</p></blockquote><p>还可以用函数c直接输入数值：</p><blockquote><p>c(1, 1.5, 2, 2.5, 3, 3.5, 4, 4.5, 5)
[1] 1.0 1.5 2.0 2.5 3.0 3.5 4.0 4.5 5.0</p></blockquote><p>如果想用键盘输入一些数据也是可以的，只需要直接使用默认选项</p><p>的scan函数：</p><blockquote><p>z &lt;- scan()</p></blockquote><p>函数rep用来创建一个所有元素都相同的向量：</p><blockquote><p>rep(1, 30)
[1] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1</p></blockquote><p>#矩阵操作</p><blockquote><p>matrix(1:6, 2, 3,byrow=F)
[,1] [,2] [,3]
[1,] 1 3 5
[2,] 2 4 6
matrix(1:6, 2, 3,byrow=T)
[,1] [,2] [,3]
[1,] 1 2 3
[2,] 4 5 6</p></blockquote><p>#维度控制</p><blockquote><p>x=1:15
x
[1] 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15
dim(x)
NULL
dim(x)&lt;-c(5,3)
x
[,1] [,2] [,3]
[1,] 1 6 11
[2,] 2 7 12
[3,] 3 8 13
[4,] 4 9 14
[5,] 5 10 15</p></blockquote><p>12.数据框和列表</p><p>矩阵合并</p><p>rbind,基于行，cbind，基于列</p><blockquote><p>matrix&lt;-rbind(1:7,1:7)
matrix
[,1] [,2] [,3] [,4] [,5] [,6] [,7]
[1,] 1 2 3 4 5 6 7
[2,] 1 2 3 4 5 6 7</p></blockquote><blockquote><p>matrix&lt;-cbind(1:7,1:7)
matrix
[,1] [,2]
[1,] 1 1
[2,] 2 2
[3,] 3 3
[4,] 4 4
[5,] 5 5
[6,] 6 6
[7,] 7 7</p></blockquote><blockquote><p>x &lt;- 1:4; n &lt;- 10; M &lt;- c(10, 35); y &lt;- 2:4
data.frame(x, y)
错误于data.frame(x, y) : 参数值意味着不同的行数 4, 3
data.frame(x, M)
x M
1 1 10
2 2 35
3 3 10
4 4 35
data.frame(x, n)
x n
1 1 10
2 2 10
3 3 10
4 4 10
L1 &lt;- list(x, y); L2 &lt;- list(A=x, B=y)
L1
[[1]]
[1] 1 2 3 4</p></blockquote><p>[[2]]
[1] 2 3 4</p><blockquote><p>L2
$A
[1] 1 2 3 4</p></blockquote><p>$B
[1] 2 3 4</p><blockquote><p>L2$A
[1] 1 2 3 4
L2$B
[1] 2 3 4</p></blockquote><blockquote><p>seq(10,11,0.2)
[1] 10.0 10.2 10.4 10.6 10.8 11.0
c(1:5,seq(10,11,0.2))
[1] 1.0 2.0 3.0 4.0 5.0 10.0 10.2 10.4 10.6 10.8 11.0</p></blockquote><blockquote><p>log2(4)
[1] 2
log10(1e7)
[1] 7</p></blockquote><p>#比较</p><blockquote><p>a&lt;-&ldquo;a&rdquo;
b&lt;-&ldquo;a&rdquo;
identical(a,b)
[1] TRUE
all.equal(a,b)
[1] TRUE
x=1:5
x[1]
[1] 1
x[4]
[1] 4
x[5]
[1] 5
x[0]
integer(0)
x[0]=5
x[0]
numeric(0)
x[1]=5
x[1]
[1] 5
x
[1] 5 2 3 4 5
i=c(1,2)
x[i]
[1] 5 2</p></blockquote><blockquote><p>x=matrix(1:3,2,3)
x
[,1] [,2] [,3]
[1,] 1 3 2
[2,] 2 1 3
x[2,]
[1] 2 1 3</p></blockquote><blockquote><p>x[,2]
[1] 3 1
x &lt;- 1:10
x[x>=5]
[1] 5 6 7 8 9 10</p></blockquote><blockquote><p>x[x%%2==0]
[1] 2 4 6 8 10
x[c(F,T)]
[1] 2 4 6 8 10
x[c(T,F)]
[1] 1 3 5 7 9</p></blockquote><p>#自定义行列名</p><blockquote><p>names(x)&lt;-c(&ldquo;a&rdquo;,&ldquo;b&rdquo;,&ldquo;c&rdquo;)
x
a b c
1 2 3
x&lt;-matrix(1:3,2,3)
x
[,1] [,2] [,3]
[1,] 1 3 2
[2,] 2 1 3
rownames(x)&lt;-c(&ldquo;row1&rdquo;,&ldquo;row2&rdquo;)
colnames(x)&lt;-c(&ldquo;col1&rdquo;,&ldquo;col2&rdquo;,&ldquo;col3&rdquo;)
x
col1 col2 col3
row1 1 3 2
row2 2 1 3
dimnames(x)
[[1]]
[1] &ldquo;row1&rdquo; &ldquo;row2&rdquo;</p></blockquote><p>[[2]]
[1] &ldquo;col1&rdquo; &ldquo;col2&rdquo; &ldquo;col3&rdquo;</p><blockquote><p>x&lt;-array(1:8,dim=c(2,2,3))
x
, , 1</p></blockquote><p>[,1] [,2]
[1,] 1 3
[2,] 2 4</p><p>, , 2</p><p>[,1] [,2]
[1,] 5 7
[2,] 6 8</p><p>, , 3</p><p>[,1] [,2]
[1,] 1 3
[2,] 2 4</p><p>#向量运算</p><blockquote><p>x&lt;-1:4
y&lt;-rep(1,4)
z&lt;-x+y
z
[1] 2 3 4 5</p></blockquote><p>#不同长度，循环使用</p><blockquote><p>x=1:2
y=1:4
x+y
[1] 2 4 4 6
x
[1] 1 2
y
[1] 1 2 3 4</p></blockquote><p>#函数快速参考</p><p>sum(x) 对x中的元素求和
prod(x) 对x中的元素求连乘积
max(x) x中元素的最大值
min(x) x中元素的最小值
which.max(x) 返回x中最大元素的下标
which.min(x) 返回x中最小元素的下标
range(x) 与c(min(x), max(x))作用相同
length(x) x中元素的数目
mean(x) x中元素的均值
median(x) x中元素的中位数
var(x) or cov(x) x中元素的的方差（用n ? 1做分母）；如果x是一个矩阵或者一
个数据框，将计算协方差阵
cor(x) 如果x是一个矩阵或者一个数据框则计算相关系数矩阵（如
果x是一个向量则结果是1）
var(x, y) or cov(x, y) x和y的协方差，如果是矩阵或数据框则计算x和y对应列的协方
差
cor(x, y) x和y的线性相关系数，如果是矩阵或者数据框则计算相关系数
矩阵。</p><p>round(x, n) 将x中的元素四舍五入到小数点后n位
rev(x) 对x中的元素取逆序
sort(x) 将x中的元素按升序排列；要按降序排列可以用命令rev(sort(x))
rank(x) 返回x中元素的秩
log(x, base) 计算以base为底的x的对数值
scale(x) 如果x是一个矩阵， 则中心化和标准化数据； 若只进行中心化
则使用选项scale=FALSE， 只进行标准化则center=FALSE（ 缺省值
是center=TRUE, scale=TRUE）
pmin(x,y,&mldr;) 返回一个向量，它的第i个元素是x[i], y[i], . . . 中最小值
pmax(x,y,&mldr;) 同上，取最大值
cumsum(x) 返回一个向量，它的第i个元素是从x[1]到x[i]的和
cumprod(x) 同上，取乘积
cummin(x) 同上，取最小值
cummax(x) 同上，取最大值
match(x, y) 返回一个和x的长度相同的向量，表示x中与y中元素相同的元素在y中
的位置（没有则返回NA）
which(x == a) 返回一个包含x符合条件（当比较运算结果为真（TRUE）的下标的向
量，在这个结果向量中数值i说明x[i] == a（这个函数的参数必须是
逻辑型变量）
choose(n, k) 计算从n个样本中选取k个的组合数
na.omit(x) 忽略有缺失值（NA）的观察数据（如果x是矩阵或数据框则忽略相应的
行）
na.fail(x) 如果x包含至少一个NA则返回一个错误消息
unique(x) 如果x是一个向量或者数据框，则返回一个类似的对象但是去掉所有重
复的元素（对于重复的元素只取一个）
table(x) 返回一个表格，给出x中重复元素的个数列表(尤其对于整数型或者因子
型变量)
table(x, y) x与y的列联表
subset(x, &mldr;) 返回x中的一个满足特定条件&mldr;的子集，该条件通常是进行比较运
算：x$V1 &lt; 10；如果x是数据框，选项select给出要保留的变量（或
者用负号表示去掉）
sample(x, size) 从x中无放回抽取size个样本，选项replace = TRUE表示有放回的抽样</p><pre tabindex=0><code></code></pre></div></div><div class=pagination><div class=pagination__title><span class=pagination__title-h>Read other posts</span><hr></div><div class=pagination__buttons><span class="button previous"><a href=/posts/nodejs/redux/><span class=button__icon>←</span>
<span class=button__text>redux.md</span></a></span>
<span class="button next"><a href=/posts/game/snake-game1/><span class=button__text>snake-game1.md</span>
<span class=button__icon>→</span></a></span></div></div></div></div><footer class=footer><div class=footer__inner><div class="copyright copyright--user"><span>@linuxing3</span>
<span>:: Theme made by <a href=https://twitter.com/panr>panr</a></span></div></div></footer><script src=/assets/main.js></script>
<script src=/assets/prism.js></script>
<script src=/assets/languageSelector.js></script></div></body></html>