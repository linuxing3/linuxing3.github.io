<!doctype html><html lang=en><head><title>:: Vim Emacser Personal Blog</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Introduction webpack is a bundler for modules. The main purpose is to bundle JavaScript files for usage in a browser, yet it is also capable of transforming, bundling, or packaging just about any resource or asset.
TL; DR
Bundles both CommonJs and AMD modules (even combined). Can create a single bundle or multiple chunks that are asynchronously loaded at runtime (to reduce initial loading time). Dependencies are resolved during compilation reducing the runtime size."><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=/posts/nodejs/webpack/><link rel=stylesheet href=/assets/style.css><link rel=stylesheet href=/assets/green.css><link rel=apple-touch-icon href=/img/apple-touch-icon-192x192.png><link rel="shortcut icon" href=/img/favicon/green.png><meta name=twitter:card content="summary"><meta name=twitter:site content="https://twitter.com/linuxing3"><meta name=twitter:creator content><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="og:title" content><meta property="og:description" content="Introduction webpack is a bundler for modules. The main purpose is to bundle JavaScript files for usage in a browser, yet it is also capable of transforming, bundling, or packaging just about any resource or asset.
TL; DR
Bundles both CommonJs and AMD modules (even combined). Can create a single bundle or multiple chunks that are asynchronously loaded at runtime (to reduce initial loading time). Dependencies are resolved during compilation reducing the runtime size."><meta property="og:url" content="/posts/nodejs/webpack/"><meta property="og:site_name" content="Vim Emacser Personal Blog"><meta property="og:image" content="/img/favicon/green.png"><meta property="og:image:width" content="2048"><meta property="og:image:height" content="1024"></head><body class=green><div class="container full"><header class=header><div class=header__inner><div class=header__logo><a href=/><div class=logo>Terminal</div></a></div><div class=menu-trigger>menu</div></div><nav class=menu><ul class="menu__inner menu__inner--desktop"><li><a href=/journal>Journal</a></li><li><a href=/showcase>Showcase</a></li><div class=spacer></div><ul class=language-selector><ul class=language-selector-current><li>English ▾</li></ul><ul class="language-selector__more hidden"><li><a href=/>English</a></li><li><a href=/zh/>中文</a></li></ul></ul></ul><ul class="menu__inner menu__inner--mobile"><li><a href=/journal>Journal</a></li><li><a href=/showcase>Showcase</a></li><hr><li><a href=/>English</a></li><li><a href=/zh/>中文</a></li></ul></nav></header><div class=content><div class=post><h1 class=post-title><a href=/posts/nodejs/webpack/></a></h1><div class=post-meta></div><div class=post-content><div><h1 id=introduction>Introduction<a href=#introduction class=hanchor arialabel=Anchor>&#8983;</a></h1><p>webpack is a bundler for modules. The main purpose is to bundle JavaScript
files for usage in a browser, yet it is also capable of transforming, bundling,
or packaging just about any resource or asset.</p><p><strong>TL; DR</strong></p><ul><li>Bundles both <a href=http://www.commonjs.org/specs/modules/1.0/>CommonJs</a> and <a href=https://github.com/amdjs/amdjs-api/wiki/AMD>AMD</a> modules (even combined).</li><li>Can create a single bundle or multiple chunks that are asynchronously loaded at runtime (to reduce initial loading time).</li><li>Dependencies are resolved during compilation reducing the runtime size.</li><li>Loaders can preprocess files while compiling, e.g. coffeescript to JavaScript, handlebars strings to compiled functions, images to Base64, etc.</li><li>Highly modular plugin system to do whatever else your application requires.</li></ul><h1 id=getting-started>Getting Started<a href=#getting-started class=hanchor arialabel=Anchor>&#8983;</a></h1><p>Check out webpack&rsquo;s <a href="https://webpack.github.io/docs/?utm_source=github&utm_medium=readme&utm_campaign=trdr">documentation</a> for quick Getting Started guide, in-depth usage,
tutorials and resources.</p><h1 id=installation>Installation<a href=#installation class=hanchor arialabel=Anchor>&#8983;</a></h1><p>project:
<code>npm install webpack --save-dev</code></p><p>global:
<code>npm install webpack -g</code>
Usage
<a href=https://webpack.github.io/docs/tutorials/getting-started/>https://webpack.github.io/docs/tutorials/getting-started/</a></p><h1 id=examples>Examples<a href=#examples class=hanchor arialabel=Anchor>&#8983;</a></h1><p>Take a look at the <a href=https://github.com/webpack/webpack/tree/master/examples><code>examples</code></a> folder.</p><h1 id=features>Features<a href=#features class=hanchor arialabel=Anchor>&#8983;</a></h1><h2 id=plugins>Plugins<a href=#plugins class=hanchor arialabel=Anchor>&#8983;</a></h2><p>webpack has a <a href=https://webpack.github.io/docs/plugins.html>rich plugin
interface</a>. Most of the features
within webpack itself use this plugin interface. This makes webpack very
<strong>flexible</strong>.</p><h2 id=performance>Performance<a href=#performance class=hanchor arialabel=Anchor>&#8983;</a></h2><p>webpack uses async I/O and has multiple caching levels. This makes webpack fast
and incredibly <strong>fast</strong> on incremental compilations.</p><h2 id=loaders>Loaders<a href=#loaders class=hanchor arialabel=Anchor>&#8983;</a></h2><p>webpack enables use of loaders to preprocess files. This allows you to bundle
<strong>any static resource</strong> way beyond JavaScript. You can easily <a href=https://webpack.github.io/docs/loaders.html>write your own
loaders</a> using node.js.</p><p>Loaders are activated by using <code>loadername!</code> prefixes in <code>require()</code> statements,
or are automatically applied via regex from your webpack configuration.</p><p>Please see <a href=https://webpack.github.io/docs/using-loaders.html>Using Loaders</a> for more information.</p><p><strong>basic</strong></p><ul><li><a href=https://github.com/webpack/json-loader><code>json</code></a>: Loads file as JSON</li><li><a href=https://github.com/webpack/raw-loader><code>raw</code></a>: Loads raw content of a file (as utf-8)</li><li><a href=https://github.com/webpack/val-loader><code>val</code></a>: Executes code as module and consider exports as JavaScript code</li><li><a href=https://github.com/webpack/script-loader><code>script</code></a>: Executes a JavaScript file once in global context (like in script tag), requires are not parsed.</li></ul><p><strong>packaging</strong></p><ul><li><a href=https://github.com/webpack/file-loader><code>file</code></a>: Emits the file into the output folder and returns the (relative) url.</li><li><a href=https://github.com/webpack/url-loader><code>url</code></a>: The url loader works like the file loader, but can return a Data Url if the file is smaller than a limit.</li><li><a href=https://github.com/tcoopman/image-webpack-loader><code>image</code></a>: Compresses your images. Ideal to use together with <code>file</code> or <code>url</code>.</li><li><a href=https://github.com/pozadi/svgo-loader><code>svgo-loader</code></a>: Compresses SVG images using <a href=https://github.com/svg/svgo>svgo</a> library</li><li><a href=https://github.com/deepsweet/baggage-loader><code>baggage</code></a>: Automatically require any resources related to the required one</li><li><a href=https://github.com/JonDum/polymer-loader><code>polymer-loader</code></a>: Process HTML & CSS with preprocessor of choice and <code>require()</code> Web Components like first-class modules.</li></ul><p><strong>dialects</strong></p><ul><li><a href=https://github.com/webpack/coffee-loader><code>coffee</code></a>: Loads coffee-script like JavaScript</li><li><a href=https://github.com/babel/babel-loader><code>babel</code></a>: Turn ES6 code into vanilla ES5 using <a href=https://github.com/babel/babel>Babel</a>.</li><li><a href=https://github.com/appedemic/livescript-loader><code>livescript</code></a>: Loads LiveScript like JavaScript</li><li><a href=https://github.com/jlongster/sweetjs-loader><code>sweetjs</code></a>: Use sweetjs macros.</li><li><a href=https://github.com/jupl/traceur-loader><code>traceur</code></a>: Use future JavaScript features with <a href=https://github.com/google/traceur-compiler>Traceur</a>.</li><li><a href=https://github.com/andreypopp/typescript-loader><code>typescript</code></a>: Loads TypeScript like JavaScript.</li></ul><p><strong>templating</strong></p><ul><li><a href=https://github.com/webpack/html-loader><code>html</code></a>: Exports HTML as string, require references to static resources.</li><li><a href=https://github.com/webpack/jade-loader><code>jade</code></a>: Loads jade template and returns a function</li><li><a href=https://github.com/altano/handlebars-loader><code>handlebars</code></a>: Loads handlebars template and returns a function</li><li><a href=https://github.com/rstacruz/ractive-loader><code>ractive</code></a>: Pre-compiles Ractive templates for interactive DOM manipulation</li><li><a href=https://github.com/peerigon/markdown-loader><code>markdown</code></a>: Compiles Markdown to HTML</li><li><a href=https://github.com/teux/ng-cache-loader><code>ng-cache</code></a>: Puts HTML partials in the Angular&rsquo;s $templateCache</li></ul><p><strong>styling</strong></p><ul><li><a href=https://github.com/webpack/style-loader><code>style</code></a>: Add exports of a module as style to DOM</li><li><a href=https://github.com/webpack/css-loader><code>css</code></a>: Loads css file with resolved imports and returns css code</li><li><a href=https://github.com/cssnext/cssnext-loader><code>cssnext</code></a>: Loads and compiles a css file using <a href=http://cssnext.io/>cssnext</a></li><li><a href=https://github.com/webpack/less-loader><code>less</code></a>: Loads and compiles a less file</li><li><a href=https://github.com/jtangelder/sass-loader><code>sass</code></a>: Loads and compiles a scss file</li><li><a href=https://github.com/shama/stylus-loader><code>stylus</code></a>: Loads and compiles a stylus file</li></ul><p><strong>misc</strong></p><ul><li><a href=https://github.com/dschissler/po-loader><code>po</code></a>: Loads a PO gettext file and returns JSON</li><li><a href=https://github.com/webpack/mocha-loader><code>mocha</code></a>: Do tests with mocha in browser or node.js</li><li><a href=https://github.com/MoOx/eslint-loader><code>eslint</code></a>: PreLoader for linting code using ESLint.</li><li><a href=https://github.com/webpack/jshint-loader><code>jshint</code></a>: PreLoader for linting code.</li><li><a href=https://github.com/unindented/jscs-loader><code>jscs</code></a>: PreLoader for style checking.</li><li><a href=https://github.com/jauco/webpack-injectable><code>injectable</code></a>: Allow to inject dependencies into modules</li><li><a href=https://github.com/webpack/transform-loader><code>transform</code></a>: Use browserify transforms as loader.</li></ul><p>For the full list of loaders, see <a href=https://webpack.github.io/docs/list-of-loaders.html>list of loaders</a>.</p><h2 id=module-format-amdcommonjs>Module Format (AMD/CommonJS)<a href=#module-format-amdcommonjs class=hanchor arialabel=Anchor>&#8983;</a></h2><p>webpack supports <strong>both</strong> AMD and CommonJS module styles. It performs clever static
analysis on the AST of your code. It even has an evaluation engine to evaluate
simple expressions. This allows you to <strong>support most existing libraries</strong> out of the box.</p><h2 id=code-splitting>Code Splitting<a href=#code-splitting class=hanchor arialabel=Anchor>&#8983;</a></h2><p>webpack allows you to split your codebase into multiple chunks. Chunks are
loaded asynchronously at runtime. This reduces the initial loading time.</p><p><a href=https://webpack.github.io/docs/code-splitting.html>Code Splitting documentation</a></p><h2 id=optimizations>Optimizations<a href=#optimizations class=hanchor arialabel=Anchor>&#8983;</a></h2><p>webpack can do many optimizations to <strong>reduce the output size of your
JavaScript</strong> by deduplicating frequently used modules, minifying, and giving
you full control of what is loaded initially and what is loaded at runtime
through code splitting. It can also can make your code chunks <strong>cache
friendly</strong> by using hashes.</p><p><a href=https://webpack.github.io/docs/optimization.html>Optimization documentation</a></p><p>webpack optimizes in several ways. It also makes your chunks <strong>cache-friendly</strong> by using hashes.</p><h1 id=a-small-example-of-whats-possible>A small example of what&rsquo;s possible<a href=#a-small-example-of-whats-possible class=hanchor arialabel=Anchor>&#8983;</a></h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#75715e>// webpack is a module bundler.
</span></span></span><span style=display:flex><span><span style=color:#75715e>// This means webpack takes modules with dependencies
</span></span></span><span style=display:flex><span><span style=color:#75715e>// and emits static assets representing those modules.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Dependencies can be written in CommonJs
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>commonjs</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>require</span>(<span style=color:#e6db74>&#34;./commonjs&#34;</span>);
</span></span><span style=display:flex><span><span style=color:#75715e>// or in AMD
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>define</span>([<span style=color:#e6db74>&#34;amd-module&#34;</span>, <span style=color:#e6db74>&#34;../file&#34;</span>], <span style=color:#66d9ef>function</span> (<span style=color:#a6e22e>amdModule</span>, <span style=color:#a6e22e>file</span>) {
</span></span><span style=display:flex><span>	<span style=color:#75715e>// while previous constructs are sync,
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#75715e>// this is async
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#a6e22e>require</span>([<span style=color:#e6db74>&#34;big-module/big/file&#34;</span>], <span style=color:#66d9ef>function</span> (<span style=color:#a6e22e>big</span>) {
</span></span><span style=display:flex><span>		 <span style=color:#75715e>// For async dependencies, webpack splits
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>		 <span style=color:#75715e>// your application into multiple &#34;chunks&#34;.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>		 <span style=color:#75715e>// This part of your application is
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>		 <span style=color:#75715e>// loaded on demand (code-splitting).
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>		<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>stuff</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>require</span>(<span style=color:#e6db74>&#34;../my/stuff&#34;</span>);
</span></span><span style=display:flex><span>		<span style=color:#75715e>// &#34;../my/stuff&#34; is also loaded on-demand
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>		<span style=color:#75715e>//  because it&#39;s in the callback function
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>		<span style=color:#75715e>//  of the AMD require.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	});
</span></span><span style=display:flex><span>});
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>require</span>(<span style=color:#e6db74>&#34;coffee!./cup.coffee&#34;</span>);
</span></span><span style=display:flex><span><span style=color:#75715e>// &#34;Loaders&#34; are used to preprocess files.
</span></span></span><span style=display:flex><span><span style=color:#75715e>// They can be prefixed in the require call
</span></span></span><span style=display:flex><span><span style=color:#75715e>// or configured in the configuration.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>require</span>(<span style=color:#e6db74>&#34;./cup&#34;</span>);
</span></span><span style=display:flex><span><span style=color:#75715e>// This does the same when you add &#34;.coffee&#34; to the extensions
</span></span></span><span style=display:flex><span><span style=color:#75715e>// and configure the &#34;coffee&#34; loader for /\.coffee$/
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>loadTemplate</span> (<span style=color:#a6e22e>name</span>) {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>require</span>(<span style=color:#e6db74>&#34;./templates/&#34;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>name</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;.jade&#34;</span>);
</span></span><span style=display:flex><span>	<span style=color:#75715e>// Many expressions are supported in require calls.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#75715e>// A clever parser extracts information and concludes
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#75715e>// that everything in &#34;./templates&#34; that matches
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#75715e>// /\.jade$/ should be included in the bundle, as it
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#75715e>// can be required.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// ...and you can combine everything.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>loadTemplateAsync</span> (<span style=color:#a6e22e>name</span>, <span style=color:#a6e22e>callback</span>) {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>require</span>([<span style=color:#e6db74>&#34;bundle?lazy!./templates/&#34;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>name</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;.jade&#34;</span>],
</span></span><span style=display:flex><span>	  <span style=color:#66d9ef>function</span> (<span style=color:#a6e22e>templateBundle</span>) {
</span></span><span style=display:flex><span>	          <span style=color:#a6e22e>templateBundle</span>(<span style=color:#a6e22e>callback</span>);
</span></span><span style=display:flex><span>	});
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=documentation>Documentation<a href=#documentation class=hanchor arialabel=Anchor>&#8983;</a></h2><p><a href="https://webpack.github.io/docs/?utm_source=github&utm_medium=readme&utm_campaign=documentation">documentation</a></p><h2 id=changelog>Changelog<a href=#changelog class=hanchor arialabel=Anchor>&#8983;</a></h2><p><a href=https://webpack.github.io/docs/changelog.html>changelog</a></p><h2 id=tests>Tests<a href=#tests class=hanchor arialabel=Anchor>&#8983;</a></h2><p>You can run the Node tests with <code>npm test</code>.</p><p>You can run the browser tests:</p><pre tabindex=0><code>cd test/browsertests
node build
</code></pre><p>and open <code>tests.html</code> in the browser.</p><h2 id=contribution>Contribution<a href=#contribution class=hanchor arialabel=Anchor>&#8983;</a></h2><p>Most of the time, if webpack is not working correctly for you it is a simple configuration issue.</p><p>If you are still having difficulty after looking over your configuration carefully, please post
a question to <a href=http://stackoverflow.com/tags/webpack>StackOverflow with the webpack tag</a>. Questions
that include your webpack.config.js and relevant files are more likely to receive responses.</p><p>If you have discovered a bug or have a feature suggestion, feel free to create an issue on Github.</p><p>If you create a loader or plugin, please consider open sourcing it, putting it
on NPM and following the <code>x-loader</code>, <code>x-plugin</code> convention.</p><p>You are also welcome to correct any spelling mistakes or any language issues.</p><p>If you want to discuss something or just need help, <a href=https://gitter.im/webpack/webpack>here is our gitter.im room</a>.</p><h2 id=license>License<a href=#license class=hanchor arialabel=Anchor>&#8983;</a></h2><p>Copyright (c) 2012-2015 Tobias Koppers</p><p>MIT (<a href=http://www.opensource.org/licenses/mit-license.php>http://www.opensource.org/licenses/mit-license.php</a>)</p><h2 id=thanks-to>Thanks to<a href=#thanks-to class=hanchor arialabel=Anchor>&#8983;</a></h2><p>(In chronological order)</p><ul><li>@google for <a href=https://code.google.com/p/google-web-toolkit>Google Web Toolkit (GWT)</a>, which aims to compile Java to JavaScript. It features a similar <a href=https://code.google.com/p/google-web-toolkit/wiki/CodeSplitting>Code Splitting</a> as webpack.</li><li>@medikoo for <a href=https://github.com/medikoo/modules-webmake>modules-webmake</a>, which is a similar project. webpack was born because I wanted Code Splitting for modules-webpack. Interestingly the <a href=https://github.com/medikoo/modules-webmake/issues/7>Code Splitting issue is still open</a> (thanks also to @Phoscur for the discussion).</li><li>@substack for <a href=http://browserify.org/>browserify</a>, which is a similar project and source for many ideas.</li><li>@jrburke for <a href=http://requirejs.org/>require.js</a>, which is a similar project and source for many ideas.</li><li>@defunctzombie for the <a href=https://gist.github.com/defunctzombie/4339901>browser-field spec</a>, which makes modules available for node.js, browserify and webpack.</li><li>Every early webpack user, which contributed to webpack by writing issues or PRs. You influenced the direction&mldr;</li><li>@shama, @jhnns and @sokra for maintaining this project</li><li>Everyone who has written a loader for webpack. You are the ecosystem&mldr;</li><li>Everyone I forgot to mention here, but also influenced webpack.</li></ul><h2 id=sponsor>Sponsor<a href=#sponsor class=hanchor arialabel=Anchor>&#8983;</a></h2><p>This is a free-time project. The time I invest in it fluctuates. If you use webpack for a serious task, and you&rsquo;d like me to invest more time on it, please donate. This project increases your income/productivity too. It makes development and applications faster and it reduces the required bandwidth.</p><p>I&rsquo;m very thankful for every dollar. If you leave your username or email, I may show my thanks by giving you extra support.</p><h2 id=dependencies>Dependencies<a href=#dependencies class=hanchor arialabel=Anchor>&#8983;</a></h2><ul><li><a href=http://esprima.org/>esprima</a></li><li><a href=https://github.com/webpack/enhanced-resolve>enhanced-resolve</a></li><li><a href=https://github.com/mishoo/UglifyJS>uglify-js</a></li><li><a href=https://github.com/visionmedia/mocha>mocha</a></li><li><a href=https://github.com/visionmedia/should.js>should</a></li><li><a href=https://github.com/substack/node-optimist>optimist</a></li><li><a href=https://github.com/caolan/async>async</a></li><li><a href=https://github.com/substack/node-mkdirp>mkdirp</a></li><li><a href=https://github.com/pvorb/node-clone>clone</a></li></ul></div></div><div class=pagination><div class=pagination__title><span class=pagination__title-h>Read other posts</span><hr></div><div class=pagination__buttons><span class="button previous"><a href=/posts/misc/start/><span class=button__icon>←</span>
<span class=button__text>Vuex a state management for vue</span></a></span>
<span class="button next"><a href=/posts/emacs/make-better-emacs-workflow/><span class=button__text>Make better emacs workflow</span>
<span class=button__icon>→</span></a></span></div></div></div></div><footer class=footer><div class=footer__inner><div class="copyright copyright--user"><span>@linuxing3</span>
<span>:: Theme made by <a href=https://twitter.com/panr>panr</a></span></div></div></footer><script src=/assets/main.js></script>
<script src=/assets/prism.js></script>
<script src=/assets/languageSelector.js></script></div></body></html>