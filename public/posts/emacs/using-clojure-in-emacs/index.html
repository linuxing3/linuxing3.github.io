<!DOCTYPE html>
<html lang="zh-cn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>using-clojure-in-emacs.org</title>
<meta name="description" content=" Linuxing3&#39;s‰∏™‰∫∫ÂçöÂÆ¢ ">
<meta name="generator" content="Hugo 0.31.1" />
<meta property="og:title" content="using-clojure-in-emacs.org" />
<meta property="og:description" content="Some Description" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://linuxing3.github.io/posts/emacs/using-clojure-in-emacs/" />



<meta property="article:published_time" content="2018-02-16T20:03:50-04:00"/>

<meta property="article:modified_time" content="2018-02-16T20:03:50-04:00"/>











<link rel="dns-prefetch" href="//fonts.googleapis.com" />
<link rel="dns-prefetch" href="//fonts.gstatic.com" />

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400italic,700" type="text/css" media="all" />
<link rel="stylesheet" href="/css/style.css" type="text/css" media="all" />
<script type="text/javascript" src="/js/scripts.js"></script>
<link rel="shortcut icon" href="/favicon.ico">

</head>
<body class="body body-right-sidebar mobile" itemscope="itemscope" itemtype="http://schema.org/WebPage">
	<div class="container container-outer">
		<header class="header" itemscope="itemscope" itemtype="http://schema.org/WPHeader">
			<div class="container container-inner clearfix">
				<div class="logo" role="banner" itemscope="itemscope" itemtype="http://schema.org/Brand">
					<a class="logo__link" href="/" title="Â§©ÁîüÊàëÊùêÂøÖÊúâÁî®ÔºåÂçÉÈáëÊï£Â∞ΩËøòÂ§çÊù•" rel="home">
						<h1 class="logo__title">Â§©ÁîüÊàëÊùêÂøÖÊúâÁî®ÔºåÂçÉÈáëÊï£Â∞ΩËøòÂ§çÊù•</h1>
						<h2 class="logo__tagline">Âú®ÁºñÁ®ã‰∏ñÁïå‰∏≠Â≠¶‰π†ÁîüÊ¥ª</h2>
					</a>
				</div>
			</div>
			
<nav class="menu" itemscope="itemscope" itemtype="http://schema.org/SiteNavigationElement">
	<ul class="menu__list">
		<li class="menu__item"><a class="menu__link" href="/posts/">ÂçöÂÆ¢</a></li>
		<li class="menu__item"><a class="menu__link" href="/news/">Êñ∞Èóª</a></li>
		<li class="menu__item"><a class="menu__link" href="/hexo/">ËÄÅÂ∫ó</a></li>
	</ul>
</nav>

		</header>
		<div class="wrapper clearfix">

<main class="main-content content" role="main" itemprop="mainContentOfPage">
	<article class="post">
		<header class="post__header clearfix">
			<h1 class="post__title">using-clojure-in-emacs.org</h1>
			<p class="post__meta meta">
				<svg class="icon icon-time" height="14" viewBox="0 0 16 16" width="14" xmlns="http://www.w3.org/2000/svg"><path d="m8-.0000003c-4.4 0-8 3.6-8 8 0 4.4000003 3.6 8.0000003 8 8.0000003 4.4 0 8-3.6 8-8.0000003 0-4.4-3.6-8-8-8zm0 14.4000003c-3.52 0-6.4-2.88-6.4-6.4000003 0-3.52 2.88-6.4 6.4-6.4 3.52 0 6.4 2.88 6.4 6.4 0 3.5200003-2.88 6.4000003-6.4 6.4000003zm.4-10.4000003h-1.2v4.8l4.16 2.5600003.64-1.04-3.6-2.1600003z"/></svg>
				<time class="post__meta-date" datetime="2018-02-16T20:03:50">February 16, 2018</time>
			</p>
		</header>
		<div class="post__content clearfix">
			<h1 id="clojure-layer">Clojure layer</h1>

<h2 id="table-of-contents">Table of Contents</h2>

<ul>
<li><a href="#clojure-layer" title="Clojure layer">Clojure layer</a></li>
<li><a href="#description" title="Description">Description</a></li>
<li><a href="#features" title="Features:">Features:</a></li>
<li><a href="#install" title="Install">Install</a></li>
<li><a href="#layer" title="Layer">Layer</a></li>
<li><a href="#pretty-symbols" title="Pretty Symbols">Pretty Symbols</a></li>
<li><a href="#cider-and-clj-refactor" title="CIDER and clj-refactor">CIDER and clj-refactor</a></li>
<li><a href="#quick-start-with-boot" title="Quick Start with boot">Quick Start with boot</a></li>
<li><a href="#quick-start-with-lein" title="Quick Start with lein">Quick Start with lein</a></li>
<li><a href="#more-details" title="More details">More details</a></li>
<li><a href="#usage" title="Usage">Usage</a></li>
<li><a href="#cheatsheet" title="Cheatsheet">Cheatsheet</a></li>
<li><a href="#structuraly-safe-editing" title="Structuraly safe editing">Structuraly safe editing</a></li>
<li><a href="#key-bindings" title="Key Bindings">Key Bindings</a></li>
<li><a href="#working-with-clojure-files-barfage-slurpage--more" title="Working with clojure files (barfage, slurpage &amp; more)">Working with clojure files (barfage, slurpage & more)</a></li>
<li><a href="#leader" title="Leader">Leader</a></li>
<li><a href="#documentation" title="Documentation">Documentation</a></li>
<li><a href="#evaluation" title="Evaluation">Evaluation</a></li>
<li><a href="#goto" title="Goto">Goto</a></li>
<li><a href="#repl" title="REPL">REPL</a></li>
<li><a href="#tests" title="Tests">Tests</a></li>
<li><a href="#toggles" title="Toggles">Toggles</a></li>
<li><a href="#debugging" title="Debugging">Debugging</a></li>
<li><a href="#refactoring" title="Refactoring">Refactoring</a></li>
<li><a href="#reformatting" title="Reformatting">Reformatting</a></li>
<li><a href="#cider-buffers" title="CIDER Buffers">CIDER Buffers</a></li>
<li><a href="#stacktrace-mode" title="stacktrace-mode">stacktrace-mode</a></li>
<li><a href="#inspector-mode" title="inspector-mode">inspector-mode</a></li>
<li><a href="#test-report-mode" title="test-report-mode">test-report-mode</a></li>
<li><a href="#sayid-buffers" title="Sayid Buffers">Sayid Buffers</a></li>
<li><a href="#sayid-mode" title="sayid-mode">sayid-mode</a></li>
<li><a href="#sayid-traced-mode" title="sayid-traced-mode">sayid-traced-mode</a></li>
<li><a href="#sayid-pprint" title="sayid-pprint">sayid-pprint</a></li>
<li><a href="#cider-repl-mode" title="cider-repl-mode">cider-repl-mode</a></li>
<li><a href="#development-notes" title="Development Notes">Development Notes</a></li>
<li><a href="#indentation" title="Indentation">Indentation</a></li>
</ul>

<h2 id="description">Description</h2>

<p>This layer adds support for <a href="https://clojure.org/" title="Clojure">Clojure</a> language using <a href="https://github.com/clojure-emacs/cider" title="CIDER">CIDER</a>.</p>

<h3 id="features">Features:</h3>

<ul>
<li>REPL via <a href="https://github.com/clojure-emacs/cider" title="CIDER">CIDER</a></li>
<li>Code formatting via <a href="https://github.com/clojure-emacs/cider" title="CIDER">CIDER</a> using <a href="https://github.com/weavejester/cljfmt" title="Cljfmt">Cljfmt</a></li>
<li>Refactoring via <a href="https://github.com/clojure-emacs/clj-refactor.el" title="clj-refactor">clj-refactor</a></li>
<li>Aligning of code forms via <a href="https://github.com/clojure-emacs/clojure-mode" title="clojure-mode">clojure-mode</a></li>
<li>Debugging with <a href="https://bpiel.github.io/sayid/" title="sayid">sayid</a></li>
<li>Clojure cheatsheet</li>
<li>Structuraly safe editing using optional <a href="https://github.com/luxbock/evil-cleverparens" title="evil-cleverparens">evil-cleverparens</a></li>
</ul>

<h2 id="install">Install</h2>

<h3 id="layer">Layer</h3>

<p>To use this configuration layer, add it to your <code>~/.spacemacs</code>. You will need to
 add <code>clojure</code> to the existing <code>dotspacemacs-configuration-layers</code> list in this
 file.</p>

<h3 id="pretty-symbols">Pretty Symbols</h3>

<p>Pretty symbols for anonymous functions, set literals and partial, like <code>(Œª [a]
 (+ a 5))</code>, <code>∆í(+ % 5)</code>, <code>‚àà{2 4 6}</code> and <code>∆§</code>.</p>

<p>To enable this feature, add the following snippet to the
 <code>dotspacemacs/user-config</code> section of your <code>~/.spacemacs</code> file:</p>

<p>#+BEGIN_SRC emacs-lisp
  (setq clojure-enable-fancify-symbols t)
 #+END_SRC</p>

<p>Or set this variable when loading the configuration layer:
 #+BEGIN_SRC emacs-lisp
  (setq-default dotspacemacs-configuration-layers
  '((clojure :variables clojure-enable-fancify-symbols t)))
 #+END_SRC</p>

<h3 id="cider-and-clj-refactor">CIDER and clj-refactor</h3>

<p>Note that recent versions of CIDER automatically inject the required
 dependencies into your boot or leiningen configuration when you connect to the
 REPL. Thus, the configuration instructions below only apply to CIDER 0.10 and
 older. Most users should be able to just run <code>SPC m s i</code> to connect to the CIDER
 REPL and skip the rest of this section.</p>

<h4 id="quick-start-with-boot">Quick Start with boot</h4>

<ul>
<li>Install <code>boot</code> (see https://github.com/boot-clj/boot#user-content-install)</li>
<li>Create a file <code>~/.boot/profile.boot</code> with the following content:</li>
</ul>

<p>#+BEGIN_SRC clojure
(require 'boot.repl)</p>

<p>(swap! boot.repl/*default-dependencies* conj
       '[refactor-nrepl "1.2.0-SNAPSHOT"]
       '[cider/cider-nrepl "0.10.0-SNAPSHOT"])</p>

<p>(swap! boot.repl/*default-middleware* conj
       'refactor-nrepl.middleware/wrap-refactor)
 #+END_SRC</p>

<ul>
<li>Run <code>SPC m s i</code> in any of the clojure source files to connect to the CIDER</li>
   REPL. Note that a build.boot file must be present in your working directory
   for Cider to recognize the presence of boot.
</ul>

<h4 id="quick-start-with-lein">Quick Start with lein</h4>

<ul>
<li>Install <code>lein</code> version 2.5.2 or newer (see https://leiningen.org/#install)</li>
<li>Create a file <code>~/.lein/profiles.clj</code> with the following content:</li>
</ul>

<p>#+BEGIN_SRC clojure
  {:repl {:plugins <a href="cider/cider-nrepl &quot;0.10.0-SNAPSHOT&quot;" title="refactor-nrepl &quot;2.0.0-SNAPSHOT&quot;">refactor-nrepl "2.0.0-SNAPSHOT"</a>
          :dependencies <a href="alembic &quot;0.3.2&quot;" title="org.clojure/tools.nrepl &quot;0.2.12&quot;">org.clojure/tools.nrepl "0.2.12"</a>}}
 #+END_SRC</p>

<ul>
<li>After creating your project with <code>lein new app &lt;projectname&gt;</code> or</li>
   importing an existing project, run <code>SPC m s i</code> in any of the clojure
   source files to connect to the CIDER REPL.
</ul>

<h4 id="more-details">More details</h4>

<ul>
More info regarding installation of nREPL middleware can be found here:
<li>CIDER: <a href="https://github.com/clojure-emacs/cider#installation" title="cider_install">cider_install</a></li>
<li>clj-refactor: <a href="https://github.com/clojure-emacs/refactor-nrepl" title="refactor-nrepl">refactor-nrepl</a></li>
</ul>

<h2 id="usage">Usage</h2>

<h3 id="cheatsheet">Cheatsheet</h3>

<p>This layers installs the <a href="https://github.com/clojure-emacs/clojure-cheatsheet" title="clojure-cheathseet">clojure-cheathseet</a> package which embeds this useful
 <a href="https://clojure.org/api/cheatsheet" title="cheatsheet">cheatsheet</a> into Emacs.</p>

<p>Type <code>SPC m h c</code> to display the cheatsheet then type in some terms (space
 separated) to narrow down the list. For example, try typing in sort map to see
 some functions that deal with sorting maps.</p>

<h3 id="structuraly-safe-editing">Structuraly safe editing</h3>

<p>This layer adds support for <code>evil-cleverparens</code> which allows to safely edit
 lisp code by keeping the s-expressions balanced.</p>

<p>By default this mode is not activated. You can turn it on locally on the active
 buffer with <code>SPC m T s</code> (<code>s</code> for safe).</p>

<p>To turn it on automatically for all <code>clojure</code> buffers call the following
 function in your <code>dotspacemacs/user-config</code> function:</p>

<p>#+BEGIN_SRC emacs-lisp
(spacemacs/toggle-evil-safe-lisp-structural-editing-on-register-hook-clojure-mode)
 #+END_SRC</p>

<p>or to enable it for all supported modes:</p>

<p>#+BEGIN_SRC emacs-lisp
(spacemacs/toggle-evil-safe-lisp-structural-editing-on-register-hooks)
 #+END_SRC</p>

<p>When enabled the symbol <code>üÜÇ</code> should be displayed in the mode-line.</p>

<h3 id="key-bindings">Key Bindings</h3>

<h4 id="working-with-clojure-files-barfage-slurpage-more">Working with clojure files (barfage, slurpage & more)</h4>

<p>	Spacemacs comes with a special <code>lisp-state</code> for working with lisp code that
	supports slurpage, barfage and more tools you'll likely want when working with
	lisp.</p>

<p>	As this state works the same for all files, the documentation is in global
	<a href="https://github.com/syl20bnr/spacemacs/blob/master/doc/DOCUMENTATION.org#lisp-key-bindings" title="DOCUMENTATION.org">DOCUMENTATION.org</a>. In general, use <code>SPC k</code> to interact with the lisp-state.</p>

<h2 id="leader">Leader</h2>

<h3 id="documentation">Documentation</h3>

<table>
<thead>
<tr>
<th>Key Binding</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>SPC m h a</code></td>
<td>cider apropos</td>
</tr>

<tr>
<td><code>SPC m h c</code></td>
<td>clojure cheatsheet</td>
</tr>

<tr>
<td><code>SPC m h g</code></td>
<td>cider grimoire</td>
</tr>

<tr>
<td><code>SPC m h h</code></td>
<td>cider doc</td>
</tr>

<tr>
<td><code>SPC m h j</code></td>
<td>cider javadoc</td>
</tr>

<tr>
<td><code>SPC m h n</code></td>
<td>cider browse ns</td>
</tr>
</tbody>
</table>

<h3 id="evaluation">Evaluation</h3>

<table>
<thead>
<tr>
<th>Key Binding</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>SPC m e ;</code></td>
<td>eval sexp and show result as comment</td>
</tr>

<tr>
<td><code>SPC m e b</code></td>
<td>eval buffer</td>
</tr>

<tr>
<td><code>SPC m e e</code></td>
<td>eval last sexp</td>
</tr>

<tr>
<td><code>SPC m e f</code></td>
<td>eval function at point</td>
</tr>

<tr>
<td><code>SPC m e r</code></td>
<td>eval region</td>
</tr>

<tr>
<td><code>SPC m e m</code></td>
<td>cider macroexpand 1</td>
</tr>

<tr>
<td><code>SPC m e M</code></td>
<td>cider macroexpand all</td>
</tr>

<tr>
<td><code>SPC m e p</code></td>
<td>print last sexp (clojure interaction mode only)</td>
</tr>

<tr>
<td><code>SPC m e P</code></td>
<td>eval last sexp and pretty print result in separate buffer</td>
</tr>

<tr>
<td><code>SPC m e w</code></td>
<td>eval last sexp and replace with result</td>
</tr>
</tbody>
</table>

<h3 id="goto">Goto</h3>

<table>
<thead>
<tr>
<th>Key Binding</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>SPC m g b</code></td>
<td>go back</td>
</tr>

<tr>
<td><code>SPC m g C</code></td>
<td>browse classpath</td>
</tr>

<tr>
<td><code>SPC m g g</code></td>
<td>goto var</td>
</tr>

<tr>
<td><code>SPC m g e</code></td>
<td>goto error</td>
</tr>

<tr>
<td><code>SPC m g r</code></td>
<td>goto resource</td>
</tr>

<tr>
<td><code>SPC m g n</code></td>
<td>browse namespaces</td>
</tr>

<tr>
<td><code>SPC m g N</code></td>
<td>browse all namespaces</td>
</tr>
</tbody>
</table>

<h3 id="repl">REPL</h3>

<table>
<thead>
<tr>
<th>Key Binding</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>SPC m ,</code></td>
<td>handle shortcut (cider-repl-handle-shortcut)</td>
</tr>

<tr>
<td><code>SPC m s b</code></td>
<td>send and eval buffer in REPL</td>
</tr>

<tr>
<td><code>SPC m s B</code></td>
<td>send and eval buffer and switch to REPL in <code>insert state</code></td>
</tr>

<tr>
<td><code>SPC m s c</code></td>
<td>connect to REPL (cider-connect) or clear repl buffer (cider-repl-clear-buffer)</td>
</tr>

<tr>
<td><code>SPC m s C</code></td>
<td>clear REPL (cider-find-and-clear-repl-output)</td>
</tr>

<tr>
<td><code>SPC m s e</code></td>
<td>send and eval last sexp in REPL</td>
</tr>

<tr>
<td><code>SPC m s E</code></td>
<td>send and eval last sexp and switch to REPL in <code>insert state</code></td>
</tr>

<tr>
<td><code>SPC m s f</code></td>
<td>send and eval function in REPL</td>
</tr>

<tr>
<td><code>SPC m s F</code></td>
<td>send and eval function and switch to REPL in <code>insert state</code></td>
</tr>

<tr>
<td><code>SPC m s i</code></td>
<td>start REPL (cider-jack-in)</td>
</tr>

<tr>
<td><code>SPC m s I</code></td>
<td>start clojurescript REPL (cider-jack-in-clojurescript)</td>
</tr>

<tr>
<td><code>SPC m s n</code></td>
<td>send and eval ns form in REPL</td>
</tr>

<tr>
<td><code>SPC m s N</code></td>
<td>send and eval ns form and switch to REPL in <code>insert state</code></td>
</tr>

<tr>
<td><code>SPC m s q</code></td>
<td>kill REPL (cider-quit)</td>
</tr>

<tr>
<td><code>SPC m s o</code></td>
<td>switch to other repl instance (cider-repl-switch-to-other)</td>
</tr>

<tr>
<td><code>SPC m s r</code></td>
<td>send and eval region in REPL</td>
</tr>

<tr>
<td><code>SPC m s R</code></td>
<td>send and eval region and switch to REPL in <code>insert state</code></td>
</tr>

<tr>
<td><code>SPC m s s</code></td>
<td>switch to REPL or jump to last file or last clj buffer from repl (cider-repl)</td>
</tr>

<tr>
<td><code>SPC m s x</code></td>
<td>refresh REPL</td>
</tr>

<tr>
<td><code>SPC m s X</code></td>
<td>restart REPL</td>
</tr>
</tbody>
</table>

<h3 id="tests">Tests</h3>

<table>
<thead>
<tr>
<th>Key Binding</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>SPC m t a</code></td>
<td>run all tests in namespace</td>
</tr>

<tr>
<td><code>SPC m t r</code></td>
<td>re-run test failures for namespace</td>
</tr>

<tr>
<td><code>SPC m t t</code></td>
<td>run test at point</td>
</tr>
</tbody>
</table>

<h3 id="toggles">Toggles</h3>

<table>
<thead>
<tr>
<th>Key Binding</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>SPC m T e</code></td>
<td>toggle englighten mode</td>
</tr>

<tr>
<td><code>SPC m T f</code></td>
<td>toggle REPL font-locking</td>
</tr>

<tr>
<td><code>SPC m T e</code></td>
<td>toggle cider-enlighten-mode</td>
</tr>

<tr>
<td><code>SPC m T p</code></td>
<td>toggle REPL pretty-printing</td>
</tr>

<tr>
<td><code>SPC m T i</code></td>
<td>toggle indentation style</td>
</tr>

<tr>
<td><code>SPC m T t</code></td>
<td>toggle auto test mode</td>
</tr>
</tbody>
</table>

<h3 id="debugging">Debugging</h3>

<table>
<thead>
<tr>
<th>Key Binding</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>SPC m d b</code></td>
<td>instrument expression at point</td>
</tr>

<tr>
<td><code>SPC m d e</code></td>
<td>display last stacktrace</td>
</tr>

<tr>
<td><code>SPC m d r</code></td>
<td>reload namespaces</td>
</tr>

<tr>
<td><code>SPC m d v</code></td>
<td>inspect expression at point</td>
</tr>

<tr>
<td><code>SPC m d i</code></td>
<td>inspect expression at point</td>
</tr>

<tr>
<td><code>SPC m d f</code></td>
<td>query form at point</td>
</tr>

<tr>
<td><code>SPC m d w</code></td>
<td>open sayid workspace window</td>
</tr>

<tr>
<td><code>SPC m d E</code></td>
<td>one time display of value at cursor</td>
</tr>

<tr>
<td><code>SPC m d !</code></td>
<td>reload traces and clear sayid workspace</td>
</tr>

<tr>
<td><code>SPC m d c</code></td>
<td>clear workspace trace log</td>
</tr>

<tr>
<td><code>SPC m d x</code></td>
<td>clear workspace traces and log</td>
</tr>

<tr>
<td><code>SPC m d s</code></td>
<td>show what is currently traced</td>
</tr>

<tr>
<td><code>SPC m d S</code></td>
<td>show what is currently traced in current namespace</td>
</tr>

<tr>
<td><code>SPC m d V</code></td>
<td>set the view</td>
</tr>

<tr>
<td><code>SPC m d h</code></td>
<td>show sayid help (keybindings may not be accurate)</td>
</tr>

<tr>
<td><code>SPC m d t y</code></td>
<td>recursively trace every namespace in given dir</td>
</tr>

<tr>
<td><code>SPC m d t p</code></td>
<td>trace namespaces by regex</td>
</tr>

<tr>
<td><code>SPC m d t b</code></td>
<td>trace current file's namespace</td>
</tr>

<tr>
<td><code>SPC m d t e</code></td>
<td>enable existing trace on current function</td>
</tr>

<tr>
<td><code>SPC m d t E</code></td>
<td>enable existing trace on all functions</td>
</tr>

<tr>
<td><code>SPC m d t d</code></td>
<td>disable existing trace on current function</td>
</tr>

<tr>
<td><code>SPC m d t D</code></td>
<td>disable existing trace on all functions</td>
</tr>

<tr>
<td><code>SPC m d t n</code></td>
<td>create inner trace on function</td>
</tr>

<tr>
<td><code>SPC m d t o</code></td>
<td>create outer trace on function</td>
</tr>

<tr>
<td><code>SPC m d t r</code></td>
<td>remove trace on function</td>
</tr>

<tr>
<td><code>SPC m d t K</code></td>
<td>remove all traces</td>
</tr>
</tbody>
</table>

<h3 id="refactoring">Refactoring</h3>

<table>
<thead>
<tr>
<th>Key Binding</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>SPC m r ?</code></td>
<td>describe refactoring</td>
</tr>

<tr>
<td><code>SPC m r a d</code></td>
<td>add declaration</td>
</tr>

<tr>
<td><code>SPC m r a i</code></td>
<td>add import to ns</td>
</tr>

<tr>
<td><code>SPC m r a m</code></td>
<td>add missing libspec</td>
</tr>

<tr>
<td><code>SPC m r a p</code></td>
<td>add project dependency</td>
</tr>

<tr>
<td><code>SPC m r a r</code></td>
<td>add require to ns</td>
</tr>

<tr>
<td><code>SPC m r a u</code></td>
<td>add use to ns</td>
</tr>

<tr>
<td><code>SPC m r c (</code></td>
<td>convert coll to list</td>
</tr>

<tr>
<td><code>SPC m r c '</code></td>
<td>convert coll to quoted list</td>
</tr>

<tr>
<td><code>SPC m r c {</code></td>
<td>convert coll to map</td>
</tr>

<tr>
<td><code>SPC m r c #</code></td>
<td>convert coll to set</td>
</tr>

<tr>
<td><code>SPC m r c [</code></td>
<td>convert coll to vector</td>
</tr>

<tr>
<td><code>SPC m r c :</code></td>
<td>toggle between keyword and string</td>
</tr>

<tr>
<td><code>SPC m r c i</code></td>
<td>cycle if</td>
</tr>

<tr>
<td><code>SPC m r c n</code></td>
<td>clean ns</td>
</tr>

<tr>
<td><code>SPC m r c p</code></td>
<td>cycle privacy</td>
</tr>

<tr>
<td><code>SPC m r d k</code></td>
<td>destructure keys</td>
</tr>

<tr>
<td><code>SPC m r e c</code></td>
<td>extract constant</td>
</tr>

<tr>
<td><code>SPC m r e d</code></td>
<td>extract definition</td>
</tr>

<tr>
<td><code>SPC m r e f</code></td>
<td>extract function</td>
</tr>

<tr>
<td><code>SPC m r e l</code></td>
<td>expand let</td>
</tr>

<tr>
<td><code>SPC m r f u</code></td>
<td>find usages</td>
</tr>

<tr>
<td><code>SPC m r f e</code></td>
<td>create fn from example</td>
</tr>

<tr>
<td><code>SPC m r h d</code></td>
<td>hotload dependency</td>
</tr>

<tr>
<td><code>SPC m r i l</code></td>
<td>introduce let</td>
</tr>

<tr>
<td><code>SPC m r i s</code></td>
<td>inline symbol</td>
</tr>

<tr>
<td><code>SPC m r m f</code></td>
<td>move form</td>
</tr>

<tr>
<td><code>SPC m r m l</code></td>
<td>move to let</td>
</tr>

<tr>
<td><code>SPC m r p c</code></td>
<td>project clean</td>
</tr>

<tr>
<td><code>SPC m r p f</code></td>
<td>promote function</td>
</tr>

<tr>
<td><code>SPC m r r d</code></td>
<td>remove debug fns</td>
</tr>

<tr>
<td><code>SPC m r r f</code></td>
<td>rename file</td>
</tr>

<tr>
<td><code>SPC m r r l</code></td>
<td>remove let</td>
</tr>

<tr>
<td><code>SPC m r r r</code></td>
<td>remove unused requires</td>
</tr>

<tr>
<td><code>SPC m r r s</code></td>
<td>rename symbol</td>
</tr>

<tr>
<td><code>SPC m r r u</code></td>
<td>replace use</td>
</tr>

<tr>
<td><code>SPC m r s n</code></td>
<td>sort ns</td>
</tr>

<tr>
<td><code>SPC m r s p</code></td>
<td>sort project dependencies</td>
</tr>

<tr>
<td><code>SPC m r s r</code></td>
<td>stop referring</td>
</tr>

<tr>
<td><code>SPC m r s c</code></td>
<td>show changelog</td>
</tr>

<tr>
<td><code>SPC m r t f</code></td>
<td>thread first all</td>
</tr>

<tr>
<td><code>SPC m r t h</code></td>
<td>thread</td>
</tr>

<tr>
<td><code>SPC m r t l</code></td>
<td>thread last all</td>
</tr>

<tr>
<td><code>SPC m r u a</code></td>
<td>unwind all</td>
</tr>

<tr>
<td><code>SPC m r u p</code></td>
<td>update project dependencies</td>
</tr>

<tr>
<td><code>SPC m r u w</code></td>
<td>unwind</td>
</tr>
</tbody>
</table>

<h3 id="reformatting">Reformatting</h3>

<table>
<thead>
<tr>
<th>Key Binding</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>SPC m f l</code></td>
<td>realign current form</td>
</tr>

<tr>
<td><code>SPC m f b</code> or  <code>SPC m =</code></td>
<td>reformat current buffer</td>
</tr>
</tbody>
</table>

<h2 id="cider-buffers">CIDER Buffers</h2>

<p>In general, <code>q</code> should always quit the popped up buffer.</p>

<h3 id="stacktrace-mode">stacktrace-mode</h3>

<table>
<thead>
<tr>
<th>Key Binding</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>C-j</code></td>
<td>next cause</td>
</tr>

<tr>
<td><code>C-k</code></td>
<td>previous cause</td>
</tr>

<tr>
<td><code>TAB</code></td>
<td>cycle current cause</td>
</tr>

<tr>
<td><code>0</code></td>
<td>cycle all causes</td>
</tr>

<tr>
<td><code>1</code></td>
<td>cycle cause 1</td>
</tr>

<tr>
<td><code>2</code></td>
<td>cycle cause 2</td>
</tr>

<tr>
<td><code>3</code></td>
<td>cycle cause 3</td>
</tr>

<tr>
<td><code>4</code></td>
<td>cycle cause 4</td>
</tr>

<tr>
<td><code>5</code></td>
<td>cycle cause 5</td>
</tr>

<tr>
<td><code>a</code></td>
<td>toggle all</td>
</tr>

<tr>
<td><code>c</code></td>
<td>toggle clj</td>
</tr>

<tr>
<td><code>d</code></td>
<td>toggle duplicates</td>
</tr>

<tr>
<td><code>J</code></td>
<td>toggle java</td>
</tr>

<tr>
<td><code>r</code></td>
<td>toggle repl</td>
</tr>

<tr>
<td><code>T</code></td>
<td>toggle tooling</td>
</tr>
</tbody>
</table>

<h3 id="inspector-mode">inspector-mode</h3>

<table>
<thead>
<tr>
<th>Key Binding</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>TAB</code></td>
<td>next inspectable object</td>
</tr>

<tr>
<td><code>Shift-TAB</code></td>
<td>previous inspectable object</td>
</tr>

<tr>
<td><code>RET</code></td>
<td>inspect object</td>
</tr>

<tr>
<td><code>L</code></td>
<td>pop to the parent object</td>
</tr>

<tr>
<td><code>n</code></td>
<td>next page in paginated view</td>
</tr>

<tr>
<td><code>N</code></td>
<td>previous page in paginated view</td>
</tr>

<tr>
<td><code>r</code></td>
<td>refresh</td>
</tr>

<tr>
<td><code>s</code></td>
<td>set a new page size</td>
</tr>
</tbody>
</table>

<h3 id="test-report-mode">test-report-mode</h3>

<table>
<thead>
<tr>
<th>Key Binding</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>C-j</code></td>
<td>next result</td>
</tr>

<tr>
<td><code>C-k</code></td>
<td>previous result</td>
</tr>

<tr>
<td><code>RET</code></td>
<td>jump to test</td>
</tr>

<tr>
<td><code>d</code></td>
<td>ediff test result</td>
</tr>

<tr>
<td><code>e</code></td>
<td>show stacktrace</td>
</tr>

<tr>
<td><code>r</code></td>
<td>rerun failed tests</td>
</tr>

<tr>
<td><code>t</code></td>
<td>run test</td>
</tr>

<tr>
<td><code>T</code></td>
<td>run tests</td>
</tr>
</tbody>
</table>

<h2 id="sayid-buffers">Sayid Buffers</h2>

<h3 id="sayid-mode">sayid-mode</h3>

<table>
<thead>
<tr>
<th>Key Binding</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>enter</code></td>
<td>pop to function</td>
</tr>

<tr>
<td><code>d</code></td>
<td>def value to $s/*</td>
</tr>

<tr>
<td><code>f</code></td>
<td>query for calls to function</td>
</tr>

<tr>
<td><code>F</code></td>
<td>query to calls to function with modifier</td>
</tr>

<tr>
<td><code>i</code></td>
<td>show only this instance</td>
</tr>

<tr>
<td><code>I</code></td>
<td>show only this instance with modifier</td>
</tr>

<tr>
<td><code>w</code></td>
<td>show full workspace trace</td>
</tr>

<tr>
<td><code>n</code></td>
<td>jump to next call</td>
</tr>

<tr>
<td><code>N</code></td>
<td>jump to previous call</td>
</tr>

<tr>
<td><code>P</code></td>
<td>pretty print value</td>
</tr>

<tr>
<td><code>C</code></td>
<td>clear workspace trace log</td>
</tr>

<tr>
<td><code>L</code> or <code>Backspace</code></td>
<td>previous buffer state</td>
</tr>

<tr>
<td><code>Shift-Backspace</code></td>
<td>forward buffer state</td>
</tr>

<tr>
<td><code>e</code></td>
<td>generate instance expression and put in kill ring</td>
</tr>

<tr>
<td><code>H</code></td>
<td>display help (keybindings may not be accurate)</td>
</tr>

<tr>
<td><code>C-s v</code></td>
<td>toggle view</td>
</tr>

<tr>
<td><code>C-s V</code></td>
<td>set view</td>
</tr>
</tbody>
</table>

<h3 id="sayid-traced-mode">sayid-traced-mode</h3>

<table>
<thead>
<tr>
<th>Key Binding</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>enter</code></td>
<td>drill into ns at point</td>
</tr>

<tr>
<td><code>e</code></td>
<td>enable trace</td>
</tr>

<tr>
<td><code>d</code></td>
<td>disable trace</td>
</tr>

<tr>
<td><code>E</code></td>
<td>enable all traces</td>
</tr>

<tr>
<td><code>D</code></td>
<td>disable all traces</td>
</tr>

<tr>
<td><code>i</code></td>
<td>apply inner trace to function at point</td>
</tr>

<tr>
<td><code>o</code></td>
<td>apply outer trace to function at point</td>
</tr>

<tr>
<td><code>r</code></td>
<td>remove trace at point</td>
</tr>

<tr>
<td><code>backspace</code></td>
<td>go back to trace overview</td>
</tr>

<tr>
<td><code>h</code></td>
<td>display help (keybindings may not be accurate)</td>
</tr>
</tbody>
</table>

<h3 id="sayid-pprint">sayid-pprint</h3>

<table>
<thead>
<tr>
<th>Key Binding</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>enter</code></td>
<td>show path in minibuffer</td>
</tr>

<tr>
<td><code>i</code></td>
<td>enter child node</td>
</tr>

<tr>
<td><code>o</code></td>
<td>enter parent node</td>
</tr>

<tr>
<td><code>n</code></td>
<td>enter next sibling node</td>
</tr>

<tr>
<td><code>p</code></td>
<td>enter previous sibling node</td>
</tr>
</tbody>
</table>

<h3 id="cider-repl-mode">cider-repl-mode</h3>

<table>
<thead>
<tr>
<th>Key Binding</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>C-j</code></td>
<td>next input</td>
</tr>

<tr>
<td><code>C-k</code></td>
<td>previous input</td>
</tr>
</tbody>
</table>

<h2 id="development-notes">Development Notes</h2>

<h3 id="indentation">Indentation</h3>

<p>With a <a href="https://github.com/clojure-emacs/cider/blob/master/doc/indent_spec.md" title="new">new</a> functionality of Cider to read the custom indentation rules from the
 var's metadata, it is better for consistency reasons to not add the custom
 indentation rules to Spacemacs, but to add them to the metadata of those
 specific vars.</p>

		</div>
		
<div class="post__tags tags clearfix">
	<svg class="icon icon-tag" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="m4.73135 3.3795002q0-.5597-.39604-.9557-.39604-.3961-.95577-.3961-.55974 0-.95578.3961-.39604.396-.39604.9557 0 .5598.39604.9558.39604.3961.95578.3961.55973 0 .95577-.3961.39604-.396.39604-.9558zm11.26865 6.0832q0 .5596998-.39076.9504998l-5.18548 5.196q-.41188.3908-.9610504.3908-.55974 0-.9505-.3908l-7.5511496-7.5616998q-.40132-.3907-.68119-1.0666-.27987-.6759-.27987-1.2357v-4.3934q0-.54920004.40132-.95050004.40132-.4013.9505-.4013h4.39339q.55974 0 1.23565.2799.67591.2798 1.07723.6812l7.55115 7.54060004q.39076.4118.39076.961z"/></svg>
	<ul class="tags__list">
		<li class="tags__item"><a class="tags__link" href="/tags/tag1/" rel="tag">tag1</a></li>
	</ul>
</div>

	</article>
	
<div class="authorbox clearfix">
	<figure class="authorbox__avatar">
		<img alt="linuxing3 avatar" src="/img/avatar.png" class="avatar" height="90" width="90">
	</figure>
	<div class="authorbox__header">
		<span class="authorbox__name">About linuxing3</span>
	</div>
	<div class="authorbox__description">
		Emacser and Vimer
	</div>
</div>
	
<nav class="post-nav row clearfix" itemscope="itemscope" itemtype="http://schema.org/SiteNavigationElement">
	<div class="post-nav__item post-nav__item--prev col-1-2">
		<a class="post-nav__link" href="/posts/emacs/using-dotemacs-in-emacs/" rel="prev"><span class="post-nav__caption">¬´Previous</span><p class="post-nav__post-title">using-dotemacs-in-emacs.org</p></a>
	</div>
	<div class="post-nav__item post-nav__item--next col-1-2">
		<a class="post-nav__link" href="/posts/emacs/using-chrome-in-emacs/" rel="next"><span class="post-nav__caption">Next¬ª</span><p class="post-nav__post-title">using-chrome-in-emacs.org</p></a>
	</div>
</nav>

	
</main>

<aside class="sidebar" itemscope="itemscope" itemtype="http://schema.org/WPSideBar">
	
<div class="widget-search widget">
	<form class="widget-search__form" role="search" method="get" action="//google.com/search">
		<label>
			<span class="screen-reader-text">Search for:</span>
			<input class="widget-search__field" type="search" placeholder="SEARCH..." value="" name="q">
		</label>
		<input class="widget-search__submit" type="submit" value="Search">
		<input type="hidden" name="sitesearch" value="https://linuxing3.github.io/" />
	</form>
</div>
	
<div class="widget-recent widget">
	<h4 class="widget__title">Recent Posts</h4>
	<div class="widget__content">
		<ul class="widget__list">
			<li class="widget__item"><a class="widget__link" href="/news/20180609/">20180609</a></li>
			<li class="widget__item"><a class="widget__link" href="/news/20180608/">20180608</a></li>
			<li class="widget__item"><a class="widget__link" href="/news/20180607/">20180607</a></li>
			<li class="widget__item"><a class="widget__link" href="/news/20180606/">20180606</a></li>
			<li class="widget__item"><a class="widget__link" href="/news/20180605/">20180605</a></li>
		</ul>
	</div>
</div>

	
	
<div class="widget-social widget">
	<h4 class="widget-social__title widget__title">Social</h4>
	<div class="widget-social__content widget__content">
		<div class="widget-social__item widget__item">
			<a class="widget-social__link widget__link btn" title="Facebook" rel="noopener noreferrer" href="https://facebook.com/xingwenju0928" target="_blank">
				<svg class="widget-social__link-icon icon-facebook" viewBox="0 0 352 352" width="24" height="24" xmlns="http://www.w3.org/2000/svg" fill="#fff"><path d="m0 32v288c0 17.5 14.5 32 32 32h288c17.5 0 32-14.5 32-32v-288c0-17.5-14.5-32-32-32h-288c-17.5 0-32 14.5-32 32zm320 0v288h-83v-108h41.5l6-48h-47.5v-31c0-14 3.5-23.5 23.5-23.5h26v-43.5c-4.4-.6-19.8-1.5-37.5-1.5-36.9 0-62 22.2-62 63.5v36h-42v48h42v108h-155v-288z"/></svg>
				<span>Facebook</span>
			</a>
		</div>
		
		<div class="widget-social__item widget__item">
			<a class="widget-social__link widget__link btn" title="Twitter" rel="noopener noreferrer" href="https://twitter.com/@linuxing3" target="_blank">
				<svg class="widget-social__link-icon icon-twitter" viewBox="0 0 384 312" width="24" height="24" xmlns="http://www.w3.org/2000/svg" fill="#fff"><path d="m384 36.9c-14.1 6.3-29.3 10.5-45.2 12.4 16.3-9.7 28.8-25.2 34.6-43.6-15.2 9-32.1 15.6-50 19.1-14.4-15.2-34.9-24.8-57.5-24.8-43.5 0-78.8 35.3-78.8 78.8 0 6.2.7 12.2 2 17.9-65.5-3.3-123.5-34.6-162.4-82.3-6.7 11.6-10.6 25.2-10.6 39.6 0 27.3 13.9 51.4 35 65.6-12.9-.4-25.1-4-35.7-9.9v1c0 38.2 27.2 70 63.2 77.2-6.6 1.8-13.6 2.8-20.8 2.8-5.1 0-10-.5-14.8-1.4 10 31.3 39.1 54.1 73.6 54.7-27 21.1-60.9 33.7-97.8 33.7-6.4 0-12.6-.4-18.8-1.1 34.9 22.4 76.3 35.4 120.8 35.4 144.9 0 224.1-120 224.1-224.1 0-3.4-.1-6.8-.2-10.2 15.4-11.1 28.7-25 39.3-40.8z"/></svg>
				<span>Twitter</span>
			</a>
		</div>
		<div class="widget-social__item widget__item">
			<a class="widget-social__link widget__link btn" title="GitHub" rel="noopener noreferrer" href="https://github.com/linuxing3" target="_blank">
				<svg class="widget-social__link-icon icon-github" viewBox="0 0 384 374" width="24" height="24" xmlns="http://www.w3.org/2000/svg" fill="#fff"><path d="m192 0c-106.1 0-192 85.8-192 191.7 0 84.7 55 156.6 131.3 181.9 9.6 1.8 13.1-4.2 13.1-9.2 0-4.6-.2-16.6-.3-32.6-53.4 11.6-64.7-25.7-64.7-25.7-8.7-22.1-21.3-28-21.3-28-17.4-11.9 1.3-11.6 1.3-11.6 19.3 1.4 29.4 19.8 29.4 19.8 17.1 29.3 44.9 20.8 55.9 15.9 1.7-12.4 6.7-20.8 12.2-25.6-42.6-4.8-87.5-21.3-87.5-94.8 0-20.9 7.5-38 19.8-51.4-2-4.9-8.6-24.3 1.9-50.7 0 0 16.1-5.2 52.8 19.7 15.3-4.2 31.7-6.4 48.1-6.5 16.3.1 32.7 2.2 48.1 6.5 36.7-24.8 52.8-19.7 52.8-19.7 10.5 26.4 3.9 45.9 1.9 50.7 12.3 13.4 19.7 30.5 19.7 51.4 0 73.7-44.9 89.9-87.7 94.6 6.9 5.9 13 17.6 13 35.5 0 25.6-.2 46.3-.2 52.6 0 5.1 3.5 11.1 13.2 9.2 76.2-25.5 131.2-97.3 131.2-182 0-105.9-86-191.7-192-191.7z"/></svg>
				<span>GitHub</span>
			</a>
		</div>
		<div class="widget-social__item widget__item">
			<a class="widget-social__link widget__link btn" title="Email" href="mailto:xingwenju@gmail.com">
				<svg class="widget-social__link-icon icon-mail" viewBox="0 0 416 288" width="24" height="24" xmlns="http://www.w3.org/2000/svg" fill="#fff"><path d="m0 16v256 16h16 384 16v-16-256-16h-16-384-16zm347 16-139 92.5-139-92.5zm-148 125.5 9 5.5 9-5.5 167-111.5v210h-352v-210z"/></svg>
				<span>xingwenju@gmail.com</span>
			</a>
		</div>
	</div>
</div>

	
<div class="widget-taglist widget">
	<h4 class="widget__title">Tags</h4>
	<div class="widget__content">
		<a class="widget__link widget__link--taglist" href="/tags/tag1" title="tag1">tag1</a>
	</div>
</div>
</aside>

	</div>
		<footer class="footer" itemscope="itemscope" itemtype="http://schema.org/WPFooter">
			<div class="container container-inner">
				<p class="footer__copyright">&copy; 2018 Â§©ÁîüÊàëÊùêÂøÖÊúâÁî®ÔºåÂçÉÈáëÊï£Â∞ΩËøòÂ§çÊù•. <span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad theme</a>.</span></p>
			</div>
		</footer>
	</div>

<script>
	var navigation = responsiveNav(".menu", {
		navClass: "menu--collapse",
	});
</script>
</body>
</html>
